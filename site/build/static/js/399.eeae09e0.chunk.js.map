{"version":3,"file":"static/js/399.eeae09e0.chunk.js","mappings":"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","sources":["utils/split+drag/split-controller.tsx","utils/content-utility/real-mobile.ts","ssr/logic/apply-split-style.ts","utils/tooltip/tooltip.ts","utils/tooltip/tooltipInit.ts"],"sourcesContent":["// src/utils/title/split-drag-handler.tsx (or your original path)\r\nimport React, { useRef, useEffect, useLayoutEffect, useState } from 'react';\r\nimport lottie from '../../utils/load-lottie'; // <-- lazy proxy (SVG-only build if you configured it)\r\nimport { useProjectVisibility } from '../context-providers/project-context';\r\nimport arrowData2 from '../../svg/arrow2.json';\r\nimport {\r\n  applySplitStyle,\r\n  getPortraitMinSplit,\r\n} from '../../ssr/logic/apply-split-style';\r\n\r\ntype SplitDragHandlerProps = {\r\n  split: number;\r\n  setSplit: React.Dispatch<React.SetStateAction<number>>;\r\n  ids?: { m1: string; m2: string };\r\n  minPortraitSplit?: number;\r\n};\r\n\r\nconst FLOOR_EPS = 0.25;\r\nconst PULSE_LOW_OPACITY = 0.35;\r\nconst PULSE_FADE_MS = 1500;\r\nconst PULSE_HOLD_MS = 180;\r\nconst PULSE_COOLDOWN_MS = 700;\r\n\r\n// minimal Lottie shape we use\r\ntype AnimationItemLike = {\r\n  goToAndStop: (v: number, isFrame?: boolean) => void;\r\n  playSegments: (seg: [number, number] | number[], force?: boolean) => void;\r\n  addEventListener: (name: string, cb: () => void) => void;\r\n  removeEventListener: (name: string, cb: () => void) => void;\r\n  destroy: () => void;\r\n  // optional field used in a fallback\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  [k: string]: any;\r\n};\r\n\r\nconst SplitDragHandler: React.FC<SplitDragHandlerProps> = ({\r\n  split,\r\n  setSplit,\r\n  ids,\r\n  minPortraitSplit,\r\n}) => {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const { setIsDragging } = useProjectVisibility();\r\n\r\n  const splitRef = useRef(split);\r\n  const isDraggingRef = useRef(false);\r\n  const isHoveringRef = useRef(false);\r\n\r\n  const arrowContainer = useRef<HTMLDivElement | null>(null);\r\n  const arrowAnimRef = useRef<AnimationItemLike | null>(null);\r\n\r\n  const [isPortrait, setIsPortrait] = useState(\r\n    typeof window !== 'undefined' ? window.innerHeight > window.innerWidth : false\r\n  );\r\n  const [isTouchDevice, setIsTouchDevice] = useState(false);\r\n\r\n  const minRef = useRef<number>(\r\n    typeof minPortraitSplit === 'number'\r\n      ? minPortraitSplit\r\n      : getPortraitMinSplit(typeof window !== 'undefined' ? window.innerWidth : undefined)\r\n  );\r\n\r\n  const initialPinchDistance = useRef<number | null>(null);\r\n  const pinchTriggeredRef = useRef(false);\r\n  const pinchThreshold = 10;\r\n  const lastPulseAtRef = useRef(0);\r\n\r\n  const playSegment = (() => {\r\n    let lastCompleteHandler: ((this: any) => void) | null = null;\r\n    let currentSegment: [number, number] | null = null;\r\n\r\n    return (segment: [number, number], holdFrame: number) => {\r\n      const anim = arrowAnimRef.current;\r\n      if (!anim) return;\r\n\r\n      if (lastCompleteHandler) {\r\n        anim.removeEventListener('complete', lastCompleteHandler as any);\r\n        lastCompleteHandler = null;\r\n      }\r\n\r\n      currentSegment = segment;\r\n\r\n      const onComplete = () => {\r\n        anim.removeEventListener('complete', onComplete as any);\r\n        lastCompleteHandler = null;\r\n        const currentFrame = (anim as any).currentFrame ?? 0;\r\n        if (currentSegment && Math.abs(currentFrame - currentSegment[1]) <= 2) {\r\n          anim.goToAndStop(holdFrame, true);\r\n        }\r\n      };\r\n\r\n      lastCompleteHandler = onComplete;\r\n      anim.addEventListener('complete', onComplete as any);\r\n      anim.playSegments(segment, true);\r\n    };\r\n  })();\r\n\r\n  const pulseLottie = async () => {\r\n    const now = performance.now();\r\n    if (now - lastPulseAtRef.current < PULSE_COOLDOWN_MS) return;\r\n    lastPulseAtRef.current = now;\r\n\r\n    const node = arrowContainer.current;\r\n    if (!node) return;\r\n\r\n    const prevTransition = node.style.transition;\r\n    try {\r\n      node.style.transition = `opacity ${PULSE_FADE_MS}ms ease`;\r\n      node.style.opacity = `${PULSE_LOW_OPACITY}`;\r\n      await new Promise((r) => setTimeout(r, PULSE_FADE_MS + PULSE_HOLD_MS));\r\n      node.style.opacity = '1';\r\n      await new Promise((r) => setTimeout(r, PULSE_FADE_MS));\r\n    } finally {\r\n      node.style.opacity = '1';\r\n      node.style.transition = prevTransition;\r\n    }\r\n  };\r\n\r\n  // Initial apply (SSR ids only)\r\n  useLayoutEffect(() => {\r\n    if (!ids) return;\r\n    const portraitNow = window.innerHeight > window.innerWidth;\r\n    setIsPortrait(portraitNow);\r\n    minRef.current =\r\n      typeof minPortraitSplit === 'number'\r\n        ? minPortraitSplit\r\n        : getPortraitMinSplit(window.innerWidth);\r\n    applySplitStyle(splitRef.current, portraitNow, ids, minRef.current);\r\n  }, [ids, minPortraitSplit]);\r\n\r\n  // Resize/orientation listener\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const portraitNow = window.innerHeight > window.innerWidth;\r\n      setIsPortrait(portraitNow);\r\n      minRef.current =\r\n        typeof minPortraitSplit === 'number'\r\n          ? minPortraitSplit\r\n          : getPortraitMinSplit(window.innerWidth);\r\n      if (ids) applySplitStyle(splitRef.current, portraitNow, ids, minRef.current);\r\n    };\r\n    window.addEventListener('resize', handleResize, { passive: true });\r\n    setIsTouchDevice('ontouchstart' in window || navigator.maxTouchPoints > 0);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [ids, minPortraitSplit]);\r\n\r\n  // Sync DOM on split/orientation change\r\n  useEffect(() => {\r\n    splitRef.current = split;\r\n    if (ids) applySplitStyle(split, isPortrait, ids, minRef.current);\r\n  }, [split, isPortrait, ids]);\r\n\r\n  const handlePointerMove = (clientX: number, clientY: number) => {\r\n    if (!isDraggingRef.current) return;\r\n\r\n    const vw = window.innerWidth;\r\n    const vh = window.innerHeight;\r\n    const portraitNow = vh > vw;\r\n\r\n    const minPortrait =\r\n      typeof minPortraitSplit === 'number' ? minPortraitSplit : getPortraitMinSplit(vw);\r\n\r\n    let next = portraitNow ? (clientY / vh) * 100 : (clientX / vw) * 100;\r\n\r\n    if (portraitNow) {\r\n      const TOP = minPortrait;\r\n      const BOTTOM = 100 - minPortrait;\r\n      next = Math.max(TOP, Math.min(BOTTOM, next));\r\n\r\n      if (next <= TOP + FLOOR_EPS || next >= BOTTOM - FLOOR_EPS) {\r\n        pulseLottie();\r\n      }\r\n    } else {\r\n      next = Math.max(0, Math.min(100, next));\r\n    }\r\n\r\n    splitRef.current = next;\r\n    setSplit(next);\r\n    if (ids) applySplitStyle(next, portraitNow, ids, minPortrait);\r\n  };\r\n\r\n  const handleMouseMove = (e: MouseEvent) => handlePointerMove(e.clientX, e.clientY);\r\n  const handleTouchMove = (e: TouchEvent) => {\r\n    if (e.touches.length === 1 && isDraggingRef.current && !pinchTriggeredRef.current) {\r\n      e.preventDefault();\r\n      handlePointerMove(e.touches[0].clientX, e.touches[0].clientY);\r\n    } else if (e.touches.length === 2 && !isDraggingRef.current) {\r\n      const dx = e.touches[0].clientX - e.touches[1].clientX;\r\n      const dy = e.touches[0].clientY - e.touches[1].clientY;\r\n      const distance = Math.sqrt(dx * dx + dy * dy);\r\n\r\n      if (initialPinchDistance.current === null) {\r\n        initialPinchDistance.current = distance;\r\n      } else if (!pinchTriggeredRef.current) {\r\n        const diff = Math.abs(distance - initialPinchDistance.current);\r\n        if (diff > pinchThreshold) {\r\n          pinchTriggeredRef.current = true;\r\n          isDraggingRef.current = false;\r\n          setIsDragging(false);\r\n          splitRef.current = 50;\r\n          setSplit(50);\r\n          if (ids) applySplitStyle(50, isPortrait, ids, minRef.current);\r\n          initialPinchDistance.current = null;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const startDragging = (e: Event) => {\r\n    e.preventDefault();\r\n    isDraggingRef.current = true;\r\n    setIsDragging(true);\r\n\r\n    const anim = arrowAnimRef.current;\r\n    if (anim) {\r\n      if (isTouchDevice) anim.playSegments([0, 25], true);\r\n      else anim.goToAndStop(25, true);\r\n    }\r\n\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    window.addEventListener('mouseup', stopDragging);\r\n    window.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n    window.addEventListener('touchend', stopDragging);\r\n  };\r\n\r\n  const stopDragging = () => {\r\n    isDraggingRef.current = false;\r\n    setIsDragging(false);\r\n\r\n    const anim = arrowAnimRef.current;\r\n    if (anim) {\r\n      if (isTouchDevice) anim.playSegments([25, 75], true);\r\n      else if (isHoveringRef.current) anim.goToAndStop(25, true);\r\n      else anim.playSegments([25, 75], true);\r\n    }\r\n\r\n    window.removeEventListener('mousemove', handleMouseMove);\r\n    window.removeEventListener('mouseup', stopDragging);\r\n    window.removeEventListener('touchmove', handleTouchMove);\r\n    window.removeEventListener('touchend', stopDragging);\r\n  };\r\n\r\n  const handleMouseEnter = () => {\r\n    isHoveringRef.current = true;\r\n    if (isDraggingRef.current) {\r\n      arrowAnimRef.current?.goToAndStop(25, true);\r\n      return;\r\n    }\r\n    playSegment([0, 25], 25);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    isHoveringRef.current = false;\r\n    if (isDraggingRef.current) {\r\n      arrowAnimRef.current?.goToAndStop(25, true);\r\n      return;\r\n    }\r\n    playSegment([25, 75], 75);\r\n  };\r\n\r\n  const handleTouchStart = (e: TouchEvent) => {\r\n    e.preventDefault();\r\n    startDragging(e as unknown as Event);\r\n  };\r\n\r\n  const handleTouchEnd = async (e: TouchEvent) => {\r\n    let endSplit = splitRef.current;\r\n    if (e.changedTouches.length === 1) {\r\n      const t = e.changedTouches[0];\r\n      const vw = window.innerWidth;\r\n      const vh = window.innerHeight;\r\n      const portraitNow = vh > vw;\r\n      endSplit = portraitNow ? (t.clientY / vh) * 100 : (t.clientX / vw) * 100;\r\n\r\n      const minPortrait =\r\n        typeof minPortraitSplit === 'number' ? minPortraitSplit : getPortraitMinSplit(vw);\r\n\r\n      if (portraitNow) {\r\n        const TOP = minPortrait;\r\n        const BOTTOM = 100 - minPortrait;\r\n        endSplit = Math.max(TOP, Math.min(BOTTOM, endSplit));\r\n      } else {\r\n        endSplit = Math.max(0, Math.min(100, endSplit));\r\n      }\r\n    }\r\n    stopDragging();\r\n\r\n    if (isPortrait) {\r\n      const minPortrait =\r\n        typeof minPortraitSplit === 'number'\r\n          ? minPortraitSplit\r\n          : getPortraitMinSplit(window.innerWidth);\r\n      const TOP = minPortrait;\r\n      const BOTTOM = 100 - minPortrait;\r\n      if (endSplit <= TOP + FLOOR_EPS || endSplit >= BOTTOM - FLOOR_EPS) {\r\n        await pulseLottie();\r\n        arrowAnimRef.current?.playSegments([25, 75], true);\r\n      }\r\n    }\r\n\r\n    initialPinchDistance.current = null;\r\n    pinchTriggeredRef.current = false;\r\n  };\r\n\r\n  // INIT LOTTIE (lazy) — await the instance\r\n  useEffect(() => {\r\n    let anim: AnimationItemLike | null = null;\r\n    let mounted = true;\r\n\r\n    (async () => {\r\n      const el = arrowContainer.current!;\r\n      anim = await lottie.loadAnimation({\r\n        container: el,\r\n        renderer: 'svg',\r\n        loop: false,\r\n        autoplay: false,\r\n        animationData: arrowData2,\r\n      });\r\n      if (!mounted || !anim) return;\r\n\r\n      arrowAnimRef.current = anim;\r\n\r\n      const container = containerRef.current;\r\n      if (container) container.style.opacity = '0';\r\n\r\n      const playInitial = () => {\r\n        anim!.goToAndStop(0, true);\r\n        setTimeout(() => anim!.playSegments([0, 75], true), 1200);\r\n        if (container) {\r\n          setTimeout(() => (container.style.opacity = '1'), 1200);\r\n        }\r\n        arrowContainer.current?.querySelector('svg')?.classList.add('drag-arrow');\r\n      };\r\n\r\n      anim.addEventListener('DOMLoaded', playInitial);\r\n      const fallback = setTimeout(() => {\r\n        if (!(anim as any).isLoaded) playInitial();\r\n      }, 2000);\r\n\r\n      // cleanup for this async init\r\n      return () => {\r\n        clearTimeout(fallback);\r\n        anim?.removeEventListener('DOMLoaded', playInitial);\r\n      };\r\n    })();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      arrowAnimRef.current?.destroy();\r\n      arrowAnimRef.current = null;\r\n    };\r\n  }, []);\r\n\r\n  // Replay on in-view\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    const anim = arrowAnimRef.current;\r\n    if (!container || !anim) return;\r\n\r\n    let views = 0;\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting && views < 3) {\r\n            views += 1;\r\n            anim.goToAndStop(0, true);\r\n            setTimeout(() => anim.playSegments([0, 75], true), 200);\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0.6 }\r\n    );\r\n    io.observe(container);\r\n    return () => io.disconnect();\r\n  }, []);\r\n\r\n  // Pointer / touch listeners\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (!container) return;\r\n\r\n    container.addEventListener('mouseenter', handleMouseEnter);\r\n    container.addEventListener('mouseleave', handleMouseLeave);\r\n    container.addEventListener('mousedown', startDragging as any);\r\n    container.addEventListener('touchstart', handleTouchStart as any, { passive: false });\r\n    container.addEventListener('touchend', handleTouchEnd as any, { passive: true });\r\n\r\n    return () => {\r\n      container.removeEventListener('mouseenter', handleMouseEnter);\r\n      container.removeEventListener('mouseleave', handleMouseLeave);\r\n      container.removeEventListener('mousedown', startDragging as any);\r\n      container.removeEventListener('touchstart', handleTouchStart as any);\r\n      container.removeEventListener('touchend', handleTouchEnd as any);\r\n      stopDragging();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className=\"split-drag-handler\"\r\n      style={{\r\n        position: 'absolute',\r\n        ...(isPortrait\r\n          ? {\r\n              left: 0,\r\n              right: 0,\r\n              top: `${split}%`,\r\n              height: '5.4rem',\r\n              cursor: 'ns-resize',\r\n              transform: 'translateY(-50%)',\r\n            }\r\n          : {\r\n              top: 0,\r\n              bottom: 0,\r\n              left: `${split}%`,\r\n              width: '6.4rem',\r\n              cursor: 'ew-resize',\r\n              transform: 'translateX(-50%)',\r\n              height: 'calc(100% - 6em)',\r\n            }),\r\n        zIndex: 3000,\r\n        transition: isPortrait ? 'top 0s' : 'left 0s',\r\n        pointerEvents: 'all',\r\n        touchAction: isDraggingRef.current ? 'none' : 'auto',\r\n      }}\r\n    >\r\n      <div\r\n        ref={arrowContainer}\r\n        className=\"split-arrow\"\r\n        style={{\r\n          width: isPortrait ? '100%' : 'none',\r\n          height: isPortrait ? 'calc(100% - 4em)' : 'calc(100% + 3em)',\r\n          pointerEvents: 'none',\r\n          transform: isPortrait ? 'rotate(90deg)' : 'none',\r\n          transformOrigin: 'center center',\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SplitDragHandler;\r\n","// useRealMobileViewport.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useRealMobileViewport() {\r\n  const [isRealMobile, setIsRealMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const touch = navigator.maxTouchPoints > 0;\r\n      const coarse = window.matchMedia?.('(pointer: coarse)').matches ?? false;\r\n      const width = window.innerWidth;\r\n      const ua = navigator.userAgent || navigator.vendor || (window as any).opera;\r\n\r\n      // iOS detection (iPhone / iPad)\r\n      const isIOS = /iPad|iPhone|iPod/.test(ua) ||\r\n        (navigator.platform === 'MacIntel' && touch); // iPadOS pretends to be Mac\r\n\r\n      // Android detection\r\n      const isAndroid = /Android/.test(ua);\r\n\r\n      // Consider it real mobile if:\r\n      // - Touch exists, and viewport is small, or\r\n      // - Known mobile UA\r\n      const realMobile =\r\n        (touch && width <= 1024) ||\r\n        isIOS ||\r\n        isAndroid ||\r\n        coarse;\r\n\r\n      setIsRealMobile(realMobile);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    window.addEventListener('orientationchange', checkMobile);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkMobile);\r\n      window.removeEventListener('orientationchange', checkMobile);\r\n    };\r\n  }, []);\r\n\r\n  return isRealMobile;\r\n}\r\n","// One place to control the portrait floor, with a special rule for 768–1024.\r\nexport const PORTRAIT_MIN_RULES: Array<{ maxWidth: number; value: number }> = [\r\n  { maxWidth: 767,  value: 16 }, // phones\r\n  { maxWidth: 1024, value: 12 }, // tablets (your 768–1024 window)\r\n  { maxWidth: Infinity, value: 20 }, // anything larger in portrait\r\n];\r\n\r\n// Legacy name kept so existing imports won't break.\r\n// It is only used as a default when no window width exists (very rare here).\r\nexport const MIN_PORTRAIT_SPLIT = 18;\r\n\r\n// Tiny hysteresis used inside this module for snap animations.\r\nconst EPS = 0.25;\r\n\r\n// Exported helper so client/non-SSR components can compute the same value.\r\nexport function getPortraitMinSplit(viewportWidth: number | null | undefined): number {\r\n  const vw = typeof viewportWidth === 'number' && isFinite(viewportWidth) ? viewportWidth : 1024;\r\n  for (const rule of PORTRAIT_MIN_RULES) {\r\n    if (vw <= rule.maxWidth) return rule.value;\r\n  }\r\n  return PORTRAIT_MIN_RULES[PORTRAIT_MIN_RULES.length - 1].value;\r\n}\r\n\r\n/**\r\n * Apply split to two absolutely-positioned media containers.\r\n * Back-compat signature; optional 4th param lets callers pin a min floor explicitly.\r\n */\r\nexport function applySplitStyle(\r\n  split: number,\r\n  isPortrait: boolean,\r\n  ids: { m1: string; m2: string },\r\n  explicitMinPortrait?: number\r\n) {\r\n  const media1 = document.getElementById(ids.m1) as HTMLElement | null;\r\n  const media2 = document.getElementById(ids.m2) as HTMLElement | null;\r\n  if (!media1 || !media2) return;\r\n\r\n  const sClamped = Math.max(0, Math.min(100, split));\r\n\r\n  media1.style.position = 'absolute';\r\n  media2.style.position = 'absolute';\r\n\r\n  if (isPortrait) {\r\n    const minPortrait =\r\n      typeof explicitMinPortrait === 'number'\r\n        ? explicitMinPortrait\r\n        : getPortraitMinSplit(typeof window !== 'undefined' ? window.innerWidth : undefined);\r\n\r\n    const TOP = minPortrait;\r\n    const BOTTOM = 100 - minPortrait;\r\n\r\n    // clamp into the rails so the handle can't hide completely\r\n    const s = Math.max(TOP, Math.min(BOTTOM, sClamped));\r\n\r\n    // common portrait rails\r\n    media1.style.left = '0';\r\n    media1.style.width = '100%';\r\n    media2.style.left = '0';\r\n    media2.style.width = '100%';\r\n    media1.style.top = '0';\r\n\r\n    if (s <= TOP + EPS) {\r\n      // collapse TOP\r\n      media1.style.height = '0%';\r\n      media1.style.transition = 'height 0.1s ease';\r\n\r\n      media2.style.top = '0%';\r\n      media2.style.height = '100%';\r\n      media2.style.transition = 'height 0.1s ease, top 0.1s ease';\r\n    } else if (s >= BOTTOM - EPS) {\r\n      // collapse BOTTOM\r\n      media1.style.height = '100%';\r\n      media1.style.transition = 'height 0.1s ease';\r\n\r\n      media2.style.top = '100%';\r\n      media2.style.height = '0%';\r\n      media2.style.transition = 'height 0.1s ease, top 0.1s ease';\r\n    } else {\r\n      // normal split\r\n      media1.style.height = `${s}%`;\r\n      media1.style.transition = 'none';\r\n\r\n      media2.style.top = `${s}%`;\r\n      media2.style.height = `${100 - s}%`;\r\n      media2.style.transition = 'none';\r\n    }\r\n  } else {\r\n    // landscape unchanged\r\n    media1.style.top = '0';\r\n    media1.style.height = '100%';\r\n    media2.style.top = '0';\r\n    media2.style.height = '100%';\r\n\r\n    media1.style.left = '0';\r\n    media1.style.width = `${sClamped}%`;\r\n\r\n    media2.style.left = `${sClamped}%`;\r\n    media2.style.width = `${100 - sClamped}%`;\r\n  }\r\n}\r\n","// utils/tooltip/global-tooltip.ts\r\nimport '../../styles/tooltip.css';\r\nimport { projectColors } from '../content-utility/color-map';\r\n\r\ntype TooltipInfo = { tags: string[]; backgroundColor: string };\r\nconst tooltipDataCache: Record<string, TooltipInfo> = {};\r\n\r\nconst LOCAL_FALLBACK_TAGS: Record<string, string[]> = {\r\n  'block-g': ['#q5.js Canvas', '#Gamification', '#Lottie Animation'],\r\n};\r\n\r\nconst TITLE_BY_KEY: Record<string, string> = {\r\n  'rotary-lamp': 'Rotary Lamp',\r\n  'ice-scoop': 'Ice Cream Scoop',\r\n  'data-viz': 'Data Visualization',\r\n  'block-g': 'Evade the Rock',\r\n  'dynamic': 'Dynamic App',\r\n};\r\n\r\nfunction bgForKey(key: string) {\r\n  const colorInfo = projectColors[TITLE_BY_KEY[key]];\r\n  const alpha = colorInfo?.tooltipAlpha ?? 0.6;\r\n  return colorInfo ? `rgba(${colorInfo.rgb}, ${alpha})` : 'rgba(85,95,90,0.6)';\r\n}\r\n\r\nfunction createTooltipDOM() {\r\n  const el = document.createElement('div');\r\n  el.id = 'custom-global-tooltip';\r\n  el.style.position = 'fixed';\r\n  el.style.pointerEvents = 'none';\r\n  el.style.zIndex = '9999';\r\n  el.style.opacity = '0';\r\n  el.style.visibility = 'hidden';\r\n  el.style.backdropFilter = 'blur(8px)';\r\n  el.style.color = '#fff';\r\n  el.style.transition = 'opacity 0.3s ease, visibility 0.3s ease';\r\n  el.className = 'custom-tooltip-blur';\r\n  const root = document.getElementById('efe-portfolio') || document.body;\r\n  root.appendChild(el);\r\n  return el as HTMLDivElement;\r\n}\r\n\r\nlet tooltipEl: HTMLDivElement | null = null;\r\nlet currentKey = '';\r\nlet hideTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\nexport const fetchTooltipDataForKey = async (key: string): Promise<TooltipInfo> => {\r\n  if (tooltipDataCache[key]) return tooltipDataCache[key];\r\n\r\n  const bg = bgForKey(key);\r\n\r\n  // local fallback\r\n  if (LOCAL_FALLBACK_TAGS[key]) {\r\n    const info = { tags: LOCAL_FALLBACK_TAGS[key], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n\r\n  // CMS fetch by slug\r\n  try {\r\n    const client = (await import('../sanity')).default;\r\n    const res = await client.fetch<{ tags?: string[] } | null>(\r\n      `*[_type==\"mediaBlock\" && slug.current == $key][0]{ tags }`,\r\n      { key }\r\n    );\r\n    const info: TooltipInfo = { tags: res?.tags ?? [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  } catch {\r\n    const info: TooltipInfo = { tags: [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n};\r\n\r\nconst showTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '1';\r\n  tooltipEl.style.visibility = 'visible';\r\n  hideTimeout = setTimeout(() => hideTooltip(), 1_500);\r\n};\r\n\r\nconst hideTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '0';\r\n  tooltipEl.style.visibility = 'hidden';\r\n  currentKey = '';\r\n};\r\n\r\nfunction positionTooltip(x: number, y: number) {\r\n  if (!tooltipEl) return;\r\n  const rect = tooltipEl.getBoundingClientRect();\r\n  const padding = 0;\r\n  const vw = window.innerWidth;\r\n  const vh = window.innerHeight;\r\n\r\n  const nearTop = y < rect.height + padding + 20;\r\n  const nearBottom = y + rect.height + padding > vh - 20;\r\n  const nearRight = x + rect.width + padding > vw - 20;\r\n  const nearLeft = x < rect.width + padding + 20;\r\n\r\n  let left: number, top: number;\r\n  if (nearBottom) { top = y - rect.height - padding - 8; left = x - rect.width * 0; }\r\n  else if (nearTop) { top = y + padding - 14; left = x - rect.width * 0; }\r\n  else if (nearRight) { top = y - rect.height / 2; left = x - rect.width - padding - 24; }\r\n  else if (nearLeft) { top = y - rect.height / 2; left = x + padding - 4; }\r\n  else { top = y - rect.height / 1.6; left = x + padding - 2; }\r\n\r\n  left = Math.max(padding, Math.min(left, vw - rect.width - padding));\r\n  top  = Math.max(padding, Math.min(top,  vh - rect.height - padding));\r\n\r\n  tooltipEl.style.left = `${left}px`;\r\n  tooltipEl.style.top  = `${top}px`;\r\n}\r\n\r\nexport function initGlobalTooltip(isRealMobile: boolean) {\r\n  if (tooltipEl) return () => {};\r\n  tooltipEl = createTooltipDOM();\r\n\r\n  let lastMouseX = -1;\r\n  let lastMouseY = -1;\r\n  let ticking = false;\r\n  let scrollCheckTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\n  const updateForElement = async (el: Element | null) => {\r\n    if (!(el instanceof HTMLElement)) { hideTooltip(); return; }\r\n    const tooltipClass = [...el.classList].find(c => c.startsWith('tooltip-'));\r\n    if (!tooltipClass) { hideTooltip(); return; }\r\n\r\n    const key = tooltipClass.replace('tooltip-', '');\r\n    if (key !== currentKey) {\r\n      currentKey = key;\r\n      const info = await fetchTooltipDataForKey(key);\r\n\r\n      if (!info.tags.length) { hideTooltip(); return; }\r\n      tooltipEl!.innerHTML = info.tags.map(t => `<p class=\"tooltip-tag\">${t}</p>`).join('');\r\n      tooltipEl!.style.backgroundColor = info.backgroundColor;\r\n      showTooltip();\r\n    } else if (tooltipEl!.style.opacity === '0' || tooltipEl!.style.visibility === 'hidden') {\r\n      showTooltip();\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (e: MouseEvent) => {\r\n    lastMouseX = e.clientX;\r\n    lastMouseY = e.clientY;\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n    updateForElement(e.target as Element);\r\n  };\r\n\r\n  const checkHoveredElementOnScroll = () => {\r\n    const el = document.elementFromPoint(lastMouseX, lastMouseY);\r\n    updateForElement(el);\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n  };\r\n\r\n  const onScroll = () => {\r\n    if (!ticking) {\r\n      window.requestAnimationFrame(() => { checkHoveredElementOnScroll(); ticking = false; });\r\n      ticking = true;\r\n    }\r\n    if (scrollCheckTimeout) clearTimeout(scrollCheckTimeout);\r\n    scrollCheckTimeout = setTimeout(() => {}, 120);\r\n  };\r\n\r\n  const onMouseOut = (e: MouseEvent) => {\r\n    if (!e.relatedTarget) hideTooltip();\r\n  };\r\n\r\n  // only attach scroll observer for non-mobile real viewports\r\n  if (!isRealMobile) window.addEventListener('scroll', onScroll, true);\r\n  document.addEventListener('mousemove', onMouseMove, { passive: true });\r\n  document.addEventListener('mouseout', onMouseOut, { passive: true });\r\n\r\n  return () => {\r\n    if (!tooltipEl) return;\r\n    if (!isRealMobile) window.removeEventListener('scroll', onScroll, true);\r\n    document.removeEventListener('mousemove', onMouseMove);\r\n    document.removeEventListener('mouseout', onMouseOut);\r\n    tooltipEl.remove();\r\n    tooltipEl = null;\r\n    if (hideTimeout) clearTimeout(hideTimeout);\r\n  };\r\n}","// utils/tooltip/tooltipInit.ts\r\nimport { useEffect } from 'react';\r\nimport { initGlobalTooltip } from './tooltip';\r\nimport { useRealMobileViewport } from '../content-utility/real-mobile';\r\n\r\nexport const useTooltipInit = () => {\r\n  const isRealMobile = useRealMobileViewport();\r\n\r\n  useEffect(() => {\r\n    const dispose = initGlobalTooltip(isRealMobile);\r\n    return () => dispose?.();\r\n  }, [isRealMobile]);\r\n};\r\n"],"names":["FLOOR_EPS","PULSE_FADE_MS","_ref","split","setSplit","ids","minPortraitSplit","containerRef","useRef","setIsDragging","useProjectVisibility","splitRef","isDraggingRef","isHoveringRef","arrowContainer","arrowAnimRef","isPortrait","setIsPortrait","useState","window","innerHeight","innerWidth","isTouchDevice","setIsTouchDevice","minRef","getPortraitMinSplit","undefined","initialPinchDistance","pinchTriggeredRef","lastPulseAtRef","playSegment","lastCompleteHandler","currentSegment","segment","holdFrame","anim","current","removeEventListener","onComplete","_currentFrame","currentFrame","Math","abs","goToAndStop","addEventListener","playSegments","pulseLottie","async","now","performance","node","prevTransition","style","transition","concat","opacity","Promise","r","setTimeout","useLayoutEffect","portraitNow","applySplitStyle","useEffect","handleResize","passive","navigator","maxTouchPoints","handlePointerMove","clientX","clientY","vw","vh","minPortrait","next","TOP","BOTTOM","max","min","handleMouseMove","e","handleTouchMove","touches","length","preventDefault","dx","dy","distance","sqrt","startDragging","stopDragging","handleMouseEnter","_arrowAnimRef$current","handleMouseLeave","_arrowAnimRef$current2","handleTouchStart","handleTouchEnd","endSplit","changedTouches","t","_arrowAnimRef$current3","mounted","el","lottie","loadAnimation","container","renderer","loop","autoplay","animationData","arrowData2","playInitial","_arrowContainer$curre","_arrowContainer$curre2","querySelector","classList","add","fallback","isLoaded","_arrowAnimRef$current4","destroy","views","io","IntersectionObserver","entries","forEach","entry","isIntersecting","threshold","observe","disconnect","_jsx","ref","className","_objectSpread","position","left","right","top","height","cursor","transform","bottom","width","zIndex","pointerEvents","touchAction","children","transformOrigin","useRealMobileViewport","isRealMobile","setIsRealMobile","checkMobile","_window$matchMedia$ma","_window$matchMedia","_window","touch","coarse","matchMedia","call","matches","ua","userAgent","vendor","opera","isIOS","test","platform","isAndroid","PORTRAIT_MIN_RULES","maxWidth","value","Infinity","EPS","viewportWidth","isFinite","rule","explicitMinPortrait","media1","document","getElementById","m1","media2","m2","sClamped","s","tooltipDataCache","LOCAL_FALLBACK_TAGS","TITLE_BY_KEY","tooltipEl","currentKey","hideTimeout","fetchTooltipDataForKey","key","bg","_colorInfo$tooltipAlp","colorInfo","projectColors","alpha","tooltipAlpha","rgb","bgForKey","info","tags","backgroundColor","_res$tags","client","default","res","fetch","_unused","showTooltip","clearTimeout","visibility","hideTooltip","positionTooltip","x","y","rect","getBoundingClientRect","nearTop","nearBottom","nearRight","nearLeft","initGlobalTooltip","createElement","id","backdropFilter","color","body","appendChild","createTooltipDOM","lastMouseX","lastMouseY","ticking","scrollCheckTimeout","updateForElement","HTMLElement","tooltipClass","find","c","startsWith","replace","innerHTML","map","join","onMouseMove","requestAnimationFrame","target","onScroll","checkHoveredElementOnScroll","elementFromPoint","onMouseOut","relatedTarget","remove","useTooltipInit","dispose"],"sourceRoot":""}