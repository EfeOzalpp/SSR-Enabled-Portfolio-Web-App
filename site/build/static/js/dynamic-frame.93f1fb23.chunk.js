"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[126],{32247:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(31014),a=n(46550);function r(e){let{keyword:t,lines:n=["Loading\u2026"],minHeight:r=160,className:s="",ariaLabel:o="Loading",progress:c=null,cycleMs:l=1400,animMs:d=900,delayMs:u=400}=e;const[h,f]=(0,i.useState)(0),[g,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=setTimeout(()=>v(!0),u);return()=>clearTimeout(e)},[u]);const m=n.length>1;(0,i.useEffect)(()=>{if(!m)return;const e=setInterval(()=>{f(e=>(e+1)%n.length)},l);return()=>clearInterval(e)},[m,n.length,l]);const w=(0,i.useMemo)(()=>({minHeight:"number"===typeof r?"".concat(r,"px"):null!==r&&void 0!==r?r:"auto"}),[r]),y=(0,i.useRef)(null);return(0,i.useEffect)(()=>{null!=c&&y.current&&(y.current.textContent="".concat(Math.round(c),"%"))},[c]),g?(0,a.jsx)("div",{className:"loading-hub loading-hub--text ".concat(s||""),style:w,role:"status","aria-live":"polite","aria-label":o,"data-keyword":t||void 0,"data-anim-ms":d,children:(0,a.jsxs)("div",{className:"loading-hub__copy","aria-hidden":!1,children:[(0,a.jsx)("h2",{className:"loading-hub__line",children:n[h]},h),null!=c&&(0,a.jsxs)("div",{className:"loading-hub__progress","aria-hidden":"true",children:[Math.round(c),"%"]}),(0,a.jsx)("span",{className:"sr-only",ref:y})]})}):(0,a.jsx)("div",{style:w,"aria-hidden":"true"})}},38136:(e,t,n)=>{n.d(t,{E8:()=>l,L7:()=>c,Qq:()=>u,j7:()=>h});var i=n(89379),a=n(81653),r=n(56706);let s={},o=null;function c(){return s}async function l(){return s.icons&&s.images?s:o?(await o,s):s}async function d(){if(!s.icons&&o)return await o,s.icons||{};if(s.icons)return s.icons;let e;try{e=await(0,a.A)()}catch(n){e=[]}const t=function(e){return e.reduce((e,t)=>{var n;if(null===t||void 0===t||!t.title)return e;const i=null!==(n=t.icon)&&void 0!==n?n:t.url;return"string"===typeof i&&i.length>0&&(e[t.title]=i),e},{})}(Array.isArray(e)?e:[]);return s.icons=t,t}async function u(){if(!s.images&&o)return await o,s.images||[];if(s.images)return s.images;let e;try{e=await(0,r.P)()}catch(n){e=[]}const t=Array.isArray(e)?e:[];return s.images=t,t}async function h(){return s.icons&&s.images?s:o||(o=Promise.all([d(),u()]).then(e=>{let[t,n]=e;return s={icons:t,images:n},s}).finally(()=>{o=null}),o)}var f;"undefined"!==typeof window&&window.__DYNAMIC_PRELOAD__&&(f=window.__DYNAMIC_PRELOAD__)&&(s=(0,i.A)((0,i.A)({},s),f))},41556:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i=n(31014),a=n(78267),r=n(45118),s=n(58035),o=n(53451),c=n(32247),l=n(38136),d=n(93746),u=n(46550);const h=e=>e<768?"phone":e<1025?"tablet":"laptop",f=()=>{var e;const t=(0,s.A)(),n=(null===t||void 0===t||null===(e=t.preloaded)||void 0===e?void 0:e.dynamic)||{},[f,g]=(0,i.useState)(n),[v,m]=(0,i.useState)(h("undefined"!==typeof window?window.innerWidth:1200)),[w,y]=(0,i.useState)(!1),[p,_]=(0,i.useState)(null),A=(0,i.useRef)(null),E=(0,r.t)(A),L=(0,o.e)();(0,i.useEffect)(()=>{const e=()=>m(h(window.innerWidth));return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),(0,i.useEffect)(()=>{Object.keys(f).length>0||a.default.fetch('*[_type == "svgAsset" && title in ["Laptop", "Tablet", "Phone"]]{\n          title, file { asset->{url} }\n        }').then(e=>{const t={};e.forEach(e=>{var n,i;t[e.title.toLowerCase()]=null===(n=e.file)||void 0===n||null===(i=n.asset)||void 0===i?void 0:i.url}),g(t)}).catch(e=>{_("assets-unavailable"),console.warn("[Frame] fetch SVG failed:",e)})},[f]);const b=f[v];(0,i.useEffect)(()=>{const e=A.current;y(Boolean(e&&e.complete&&b))},[b]);const x=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{w&&!x.current&&(x.current=!0,(async()=>{try{const{images:e}=await(0,l.j7)();if(!Array.isArray(e)||0===e.length)return;const t=16,n=320,i=25,a=document.head;let r=0;e:for(const s of e){const e=[null===s||void 0===s?void 0:s.image1,null===s||void 0===s?void 0:s.image2].filter(Boolean);for(const s of e){const e=(0,d.dk)(s).width(n).quality(i).auto("format").url();if(!e)continue;if(!document.querySelector('link[rel="preload"][as="image"][href="'.concat(e,'"]'))){const t=document.createElement("link");t.rel="preload",t.as="image",t.href=e,t.crossOrigin="anonymous",t.setAttribute("fetchpriority","low"),a.appendChild(t)}const o=new Image;if(o.decoding="async",o.crossOrigin="anonymous",o.src=e,r+=1,r>=t)break e}}}catch(e){}})())},[w]),(0,u.jsx)("section",{className:"block-type-a",children:(0,u.jsxs)("div",{className:"device-wrapper",children:[(0,u.jsx)("img",{ref:A,id:"dynamic-device-frame",src:b||void 0,alt:v,className:"device-frame ".concat(v),decoding:"async",loading:"eager",onLoad:()=>y(!0),onError:()=>y(!0),draggable:!1,style:{visibility:b?"visible":"hidden",opacity:w&&b?1:0,transition:"opacity 150ms ease"},"data-src-laptop":f.laptop||"","data-src-tablet":f.tablet||"","data-src-phone":f.phone||"","data-device":v}),(0,u.jsx)("div",{className:"screen-overlay",style:"phone"===v?{width:"".concat(E.width,"px"),height:L?"".concat(E.heightSet1,"svh"):"".concat(E.heightSet2,"px")}:void 0,children:(0,u.jsx)("div",{id:"dynamic-overlay-loader",children:(0,u.jsx)(c.A,{className:"loading-hub--dynamic loading-hub--center",keyword:"dynamic",lines:["Measuring app frame\u2026","Creating shadow root\u2026","Injecting app styles\u2026","Loading SVG icons\u2026","Mounting app shell\u2026","Wiring observers and input\u2026"],minHeight:72})})}),p&&(0,u.jsx)("div",{className:"soft-warning",children:"media frame unavailable"})]})})}},45118:(e,t,n)=>{n.d(t,{t:()=>a});var i=n(31014);function a(e){const[t,n]=(0,i.useState)({width:0,heightSet1:0,heightSet2:0});return(0,i.useEffect)(()=>{const t=()=>{if(!e.current)return;const t=e.current.getBoundingClientRect(),i=t.width/t.height,a=1.5/6.5,r=3.3/6.5;let s,o,c;if(i<=a)s=150,o=63,c=280;else if(i>=r)s=320,o=93,c=610;else{const e=(i-a)/.2769230769230769;s=150+170*e,o=63+30*e,c=280+330*e}const l=0+2*((Math.min(Math.max(t.height,0),1300)-0)/1300);s*=l,o*=l,c*=l,n({width:s,heightSet1:o,heightSet2:c})};return t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[e]),t}},53451:(e,t,n)=>{n.d(t,{e:()=>a});var i=n(31014);function a(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{const e=()=>{var e,n,i;const a=navigator.maxTouchPoints>0,r=null!==(e=null===(n=(i=window).matchMedia)||void 0===n?void 0:n.call(i,"(pointer: coarse)").matches)&&void 0!==e&&e,s=window.innerWidth,o=navigator.userAgent||navigator.vendor||window.opera,c=/iPad|iPhone|iPod/.test(o)||"MacIntel"===navigator.platform&&a,l=/Android/.test(o);t(a&&s<=1024||c||l||r)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),e}},56706:(e,t,n)=>{n.d(t,{P:()=>a});var i=n(78267);const a=async function(){let e="";switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"titleAsc":e="| order(title asc)";break;case"titleDesc":e="| order(title desc)";break;case"dateAsc":e="| order(_createdAt asc)";break;case"dateDesc":e="| order(_createdAt desc)"}const t='*[_type == "imageAsset"] '.concat(e," {\n    _id,\n    title,\n    description,\n    // dereference to get real URLs on the server\n    image1{ ..., asset->{ url } },\n    image2{ ..., asset->{ url } },\n    caption1,\n    alt1,\n    alt2,\n    iconName,\n    url1\n  }");try{return await i.default.fetch(t)}catch(n){return console.error("Error fetching images",n),[]}}},81653:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(78267);async function a(){return await i.default.fetch('*[_type == "svgIcon"]{\n    title,\n    icon,                         // inline SVG string (portable text / string)\n    "url": file.asset->url        // optional file URL if present in schema\n  }')}}}]);
//# sourceMappingURL=dynamic-frame.93f1fb23.chunk.js.map