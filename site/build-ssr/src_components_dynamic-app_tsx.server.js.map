{"version":3,"file":"src_components_dynamic-app_tsx.server.js","mappings":"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","sources":["webpack://personal-site/./src/components/dynamic-app.tsx","webpack://personal-site/./src/dynamic-app/dynamic-app-outgoing.jsx","webpack://personal-site/./src/dynamic-app/dynamic-app-shadow.jsx","webpack://personal-site/./src/dynamic-app/lib/observedCard.jsx","webpack://personal-site/./src/dynamic-app/lib/shadowObserver.ts","webpack://personal-site/./src/styles/block-type-a.css","webpack://personal-site/./src/utils/content-utility/dynamic-overlay.ts"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport client from '../utils/sanity';\r\nimport DynamicAppInbound from '../dynamic-app/dynamic-app-shadow.jsx';\r\nimport { useDynamicOverlay } from '../utils/content-utility/dynamic-overlay';\r\nimport { useSsrData } from '../utils/context-providers/ssr-data-context';\r\nimport { useRealMobileViewport } from '../utils/content-utility/real-mobile';\r\n\r\nimport '../styles/block-type-a.css';\r\n\r\nconst getDeviceType = (w: number): 'phone' | 'tablet' | 'laptop' =>\r\n  w < 768 ? 'phone' : w < 1025 ? 'tablet' : 'laptop';\r\n\r\n// 1x1 transparent PNG (keeps <img> real but invisible, no broken icon)\r\nconst BLANK_IMG =\r\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAuMB9qzG3iAAAAAASUVORK5CYII=';\r\n\r\nconst DEBOUNCE_MS = 150;\r\n\r\nconst DynamicApp = () => {\r\n  const ssrData = useSsrData();\r\n  const preloadedMap = ssrData?.preloaded?.dynamic || {}; // Preloaded SVG URLs map\r\n\r\n  const [svgMap, setSvgMap] = useState<Record<string, string>>(preloadedMap);\r\n  const [device, setDevice] = useState<'phone' | 'tablet' | 'laptop'>(getDeviceType(window.innerWidth));\r\n  const [imgLoaded, setImgLoaded] = useState(false);\r\n\r\n  const frameRef = useRef<HTMLImageElement>(null);\r\n  const resizeTimer = useRef<number | null>(null);\r\n\r\n  const overlaySize = useDynamicOverlay(frameRef);\r\n  const isRealMobile = useRealMobileViewport();\r\n\r\n  // Fetch SVG URLs only if no SSR data\r\n  useEffect(() => {\r\n    if (Object.keys(svgMap).length > 0) return; // already have SSR map\r\n    client\r\n      .fetch(\r\n        `*[_type == \"svgAsset\" && title in [\"Laptop\", \"Tablet\", \"Phone\"]]{\r\n          title,\r\n          file { asset->{url} }\r\n        }`\r\n      )\r\n      .then((results: any[]) => {\r\n        const map: Record<string, string> = {};\r\n        results.forEach((item: any) => {\r\n          map[item.title.toLowerCase()] = item.file?.asset?.url;\r\n        });\r\n        setSvgMap(map);\r\n      })\r\n      .catch((err) => {\r\n        console.warn('[DynamicApp] Failed to fetch SVG assets:', err);\r\n      });\r\n  }, [svgMap]);\r\n\r\n  // Debounced device type change\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (resizeTimer.current) window.clearTimeout(resizeTimer.current);\r\n      resizeTimer.current = window.setTimeout(() => {\r\n        const next = getDeviceType(window.innerWidth);\r\n        setDevice((prev) => {\r\n          if (prev !== next) {\r\n            setImgLoaded(false);\r\n            return next;\r\n          }\r\n          return prev;\r\n        });\r\n      }, DEBOUNCE_MS);\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => {\r\n      if (resizeTimer.current) window.clearTimeout(resizeTimer.current);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  const svgUrl = svgMap[device];\r\n\r\n  // Handle cached image load state\r\n  useEffect(() => {\r\n    if (svgUrl) {\r\n      const img = frameRef.current;\r\n      if (img && img.complete) {\r\n        setImgLoaded(true);\r\n      } else {\r\n        setImgLoaded(false);\r\n      }\r\n    } else {\r\n      setImgLoaded(false);\r\n    }\r\n  }, [svgUrl]);\r\n\r\n  return (\r\n    <section className=\"block-type-a\">\r\n      <div className=\"device-wrapper\">\r\n        <img\r\n          ref={frameRef}\r\n          src={svgUrl || BLANK_IMG}\r\n          alt={device}\r\n          className={`device-frame ${device}`}\r\n          onLoad={() => setImgLoaded(true)}\r\n          onError={() => setImgLoaded(true)}\r\n          draggable={false}\r\n          style={{\r\n            visibility: svgUrl ? 'visible' : 'hidden',\r\n            opacity: imgLoaded && svgUrl ? 1 : 0,\r\n            transition: 'opacity 150ms ease',\r\n          }}\r\n        />\r\n\r\n        <div\r\n          className=\"screen-overlay\"\r\n          style={\r\n            device === 'phone'\r\n              ? {\r\n                  width: `${overlaySize.width}px`,\r\n                  height: isRealMobile\r\n                    ? `${overlaySize.heightSet1}svh`\r\n                    : `${overlaySize.heightSet2}px`,\r\n                }\r\n              : {}\r\n          }\r\n        >\r\n          <DynamicAppInbound onFocusChange={() => {}} />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default DynamicApp;\r\n","// DynamicTheme Ã©mbÃ©d.jsx\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport Navigation from './components/navigation';\r\nimport TitleDivider from './components/title';\r\nimport SortBy from './components/sortBy';\r\nimport LoadingScreen from '../utils/content-utility/loading.tsx';\r\nimport FireworksDisplay from './components/fireworksDisplay';\r\nimport PauseButton from './components/pauseButton';\r\nimport Footer from './components/footer';\r\nimport fetchSVGIcons from './lib/fetchSVGIcons';\r\nimport ObservedCard from './lib/observedCard.jsx';\r\nimport setupAltObserver from './lib/setupAltObserver';\r\nimport IntroOverlay from './components/IntroOverlay';\r\nimport { colorMapping } from './lib/colorString.ts';\r\nimport { useShadowRoot } from '../utils/context-providers/shadow-root-context.tsx';\r\nimport indexCss from '../styles/dynamic-app/index.css?raw';\r\nimport miscCss from '../styles/dynamic-app/misc.css?raw';\r\nimport overlayCss from '../styles/loading-overlay.css?raw';\r\n\r\nfunction DynamicTheme() {\r\n  const [sortedImages, setSortedImages] = useState([]);\r\n  const [svgIcons, setSvgIcons] = useState({});\r\n  const [activeColor, setActiveColor] = useState('#FFFFFF');\r\n  const [movingTextColors, setMovingTextColors] = useState(['#FFFFFF', '#FFFFFF', '#FFFFFF']);\r\n  const [lastKnownColor, setLastKnownColor] = useState('#FFFFFF');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [pauseAnimation, setPauseAnimation] = useState(false);\r\n  const [showNavigation, setShowNavigation] = useState(false);\r\n  const toggleFireworksRef = useRef(null);\r\n  const scrollContainerRef = useRef(null);\r\n  const shadowRef = useRef(null);\r\n  const [showFireworks, setShowFireworks] = useState(true); // rÃ©movÃ© firÃ©work to savÃ© hÃ©adroom whÃ©n not in viÃ©w \r\n\r\n  const { getShadowRoot, injectStyle } = useShadowRoot();\r\n\r\n  useEffect(() => {\r\n    [\r\n      indexCss,\r\n      miscCss,\r\n      overlayCss,\r\n    ].forEach(injectStyle);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      setIsLoading(false);\r\n      setShowNavigation(true); // runs when DOM is ready\r\n    }, 200);\r\n    return () => clearTimeout(timeout);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      fetchSVGIcons().then((icons) => {\r\n        const iconMapping = icons.reduce((acc, icon) => {\r\n          acc[icon.title] = icon.icon;\r\n          return acc;\r\n        }, {});\r\n        setSvgIcons(iconMapping);\r\n        setTimeout(() => {\r\n          setIsLoading(false);\r\n        }, 200);\r\n      });\r\n    }, 400);\r\n  }, []);\r\n\r\n  const observerRoot = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const root = typeof getShadowRoot === 'function' ? getShadowRoot() : document;\r\n    observerRoot.current = root;\r\n  }, [getShadowRoot]);\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && sortedImages.length > 0) {\r\n      const root = observerRoot.current;\r\n      setupAltObserver(handleActivate, handleDeactivate, root);\r\n    }\r\n  }, [sortedImages, pauseAnimation, isLoading]);\r\n\r\n  const handleSetToggleFireworks = useCallback((toggleFunction) => {\r\n    toggleFireworksRef.current = toggleFunction;\r\n  }, []);\r\n\r\n  const handlePauseToggle = useCallback((isEnabled) => {\r\n    if (toggleFireworksRef.current) {\r\n      toggleFireworksRef.current(isEnabled);\r\n    }\r\n    setPauseAnimation(!isEnabled);\r\n  }, []);\r\n\r\n  const handleActivate = (alt1) => {\r\n    const colors = colorMapping[alt1];\r\n\r\n    if (colors && colors[0] !== activeColor) {\r\n      setActiveColor(colors[2]);\r\n      setMovingTextColors([colors[0], colors[1], colors[3]]);\r\n      setLastKnownColor(colors[2]);\r\n    }\r\n  };\r\n\r\n  const handleDeactivate = (alt1) => {\r\n    if (activeColor !== lastKnownColor) {\r\n      setActiveColor(lastKnownColor);\r\n    }\r\n  };\r\n\r\n  // rÃ©sizÃ©\r\n  useEffect(() => {\r\n    if (!shadowRef.current) return;\r\n    const observer = new ResizeObserver(() => {\r\n      console.log('[ðŸ” Resize observed]', shadowRef.current?.getBoundingClientRect());\r\n      // Optionally trigger reflows / state updates\r\n    });\r\n    observer.observe(shadowRef.current);\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  // Remove firework when not in view\r\n  useEffect(() => {\r\n    // Directly select the container by ID\r\n    const container = document.querySelector('#block-dynamic');\r\n\r\n    if (!container) {\r\n      console.warn('[FireworkObserver] #block-dynamic not found in DOM');\r\n      return;\r\n    }\r\n\r\n    // IntersectionObserver setup\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        const isVisible = entry.isIntersecting;\r\n        setShowFireworks(prev => (prev !== isVisible ? isVisible : prev));\r\n      },\r\n      {\r\n        threshold: 0.3, // ~30% visible before toggling\r\n        root: null,     // null means observe relative to the viewport\r\n      }\r\n    );\r\n\r\n    observer.observe(container);\r\n\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  const cardRefs = useRef([]);\r\n  cardRefs.current = sortedImages.map((_, i) => cardRefs.current[i] ?? React.createRef());\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <LoadingScreen isFullScreen={false} />\r\n      ) : (\r\n        <div className=\"homePage-container\" ref={scrollContainerRef}>\r\n          <IntroOverlay />\r\n            <div className=\"navigation-wrapper\">\r\n              {showNavigation && (\r\n                <Navigation\r\n                  customArrowIcon2={svgIcons['arrow1']}\r\n                  customArrowIcon={svgIcons['arrow2']}\r\n                  items={sortedImages}\r\n                  activeColor={activeColor}\r\n                  isInShadow={typeof getShadowRoot === 'function' && getShadowRoot() !== document}\r\n                  scrollLockContainer={scrollContainerRef.current}\r\n                />\r\n              )}\r\n            </div>\r\n        <div className=\"firework-wrapper\">\r\n            <div className=\"firework-divider\">\r\n              {showFireworks && (\r\n              <FireworksDisplay\r\n                colorMapping={colorMapping}\r\n                items={sortedImages}\r\n                activeColor={activeColor}\r\n                lastKnownColor={lastKnownColor}\r\n                onToggleFireworks={handleSetToggleFireworks}\r\n              />\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"section-divider\"></div>\r\n          <div className=\"title-divider\">\r\n            <TitleDivider\r\n              svgIcon={svgIcons['logo-small-1']}\r\n              movingTextColors={movingTextColors}\r\n              pauseAnimation={pauseAnimation}\r\n            />\r\n          </div>\r\n          <div id=\"homePage\">\r\n            <div className=\"no-overflow\">\r\n              <div className=\"pause-button-wrapper\">\r\n                <PauseButton toggleP5Animation={handlePauseToggle} />\r\n              </div>\r\n              <div className=\"sort-by-divider\">\r\n                <h3 className=\"students-heading\">Students</h3>\r\n              <SortBy\r\n                setSortOption={() => {}}\r\n                onFetchItems={setSortedImages}\r\n                customArrowIcon={svgIcons['arrow2']}\r\n                colorMapping={colorMapping}\r\n                getRoot={getShadowRoot}\r\n              />\r\n              </div>\r\n              <div className=\"section-divider2\"></div>\r\n              <div className=\"UI-card-divider\">\r\n                {sortedImages.map((data, index) => (\r\n                  <ObservedCard\r\n                    key={index}\r\n                    data={data}\r\n                    index={index}\r\n                    getShadowRoot={getShadowRoot}\r\n                    pauseAnimation={pauseAnimation}\r\n                    customArrowIcon2={svgIcons['arrow1']}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <Footer\r\n                customArrowIcon2={svgIcons['arrow1']}\r\n                linkArrowIcon={svgIcons['link-icon']}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n  </>\r\n  );\r\n}\r\n\r\nexport default DynamicTheme;\r\n","// dynamic app shadow DOM wrappÃ©r\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport createShadowRoot from 'react-shadow';\r\nimport DynamicTheme from './dynamic-app-outgoing.jsx';\r\nimport { ShadowRootProvider } from '../utils/context-providers/shadow-root-context.tsx'; \r\n\r\nconst DynamicAppInbound = ({ onFocusChange }) => {\r\n  const shadowRef = useRef(null);\r\n  const [shadowRoot, setShadowRoot] = useState(null);\r\n  const ShadowRoot = createShadowRoot.div;\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      const root = shadowRef.current?.getRootNode?.();\r\n      if (root && root.host) {\r\n        setShadowRoot(root);\r\n      } else {\r\n        console.warn('[Not a ShadowRoot]', root);\r\n      }\r\n    }, 0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const el = shadowRef.current;\r\n    if (!el) return;\r\n\r\n    let startY = 0;\r\n    let focusTriggered = false;\r\n\r\n    const triggerSyntheticClick = () => {\r\n      const down = new PointerEvent('pointerdown', {\r\n        bubbles: true,\r\n        cancelable: true,\r\n        composed: true,\r\n        pointerType: 'touch',\r\n      });\r\n      el.dispatchEvent(down);\r\n      onFocusChange?.(true);\r\n      console.log('[Focus triggered in embedded app]');\r\n    };\r\n\r\n    const handleTouchStart = (e) => {\r\n      if (e.touches.length === 0) return;\r\n      startY = e.touches[0].clientY;\r\n      focusTriggered = false;\r\n    };\r\n\r\n    const handleTouchMove = (e) => {\r\n      if (focusTriggered || e.touches.length === 0) return;\r\n      const deltaY = e.touches[0].clientY - startY;\r\n\r\n      if (Math.abs(deltaY) > 1) {\r\n        el.scrollTop += 1;\r\n        triggerSyntheticClick();\r\n        focusTriggered = true;\r\n      }\r\n    };\r\n\r\n    if ('ontouchstart' in window) {\r\n      el.addEventListener('touchstart', handleTouchStart, { passive: true });\r\n      el.addEventListener('touchmove', handleTouchMove, { passive: true });\r\n    }\r\n\r\n    return () => {\r\n      el.removeEventListener('touchstart', handleTouchStart);\r\n      el.removeEventListener('touchmove', handleTouchMove);\r\n    };\r\n  }, [onFocusChange]);\r\n\r\n  return (\r\n    <div className=\"embedded-app\">\r\n      <ShadowRoot>\r\n        <div ref={shadowRef} className=\"dynamic-app\" id=\"shadow-dynamic-app\">\r\n          {shadowRoot ? (\r\n            <ShadowRootProvider getShadowRoot={() => shadowRoot}>\r\n              <DynamicTheme />\r\n            </ShadowRootProvider>\r\n          ) : null}\r\n        </div>\r\n      </ShadowRoot>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DynamicAppInbound;\r\n","// src/dynamic-app/lib/observedCard.jsx\r\nimport React, { useRef } from 'react';\r\nimport UIcards from '../components/homepage-UIcards';\r\nimport useIntersectionTransform from './shadowObserver';\r\n\r\nfunction ObservedCard({\r\n  data,\r\n  index,\r\n  getShadowRoot,\r\n  pauseAnimation,\r\n  customArrowIcon2,\r\n}) {\r\n  const ref = useRef(null);\r\n\r\n  // The hook will accept whatever you pass â€” no TS constraint here\r\n  useIntersectionTransform(ref, getShadowRoot, pauseAnimation);\r\n\r\n  return (\r\n    <div ref={ref} className={`custom-card-${index}`}>\r\n      <UIcards\r\n        title={data.title}\r\n        backgroundColor={data.backgroundColor}\r\n        image1={data.image1}\r\n        image2={data.image2}\r\n        alt1={data.alt1}\r\n        alt2={data.alt2}\r\n        url1={data.url1}\r\n        className={`custom-card-${index}`}\r\n        customArrowIcon2={customArrowIcon2}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ObservedCard;\r\n","// useIntersectionTransform.ts\r\nimport { useEffect } from 'react';\r\n\r\nexport default function useIntersectionTransform(\r\n  ref: React.RefObject<HTMLElement>,\r\n  getShadowRoot: () => ShadowRoot | null,\r\n  pauseAnimation: boolean,\r\n  getScrollRoot?: () => Element | null  // ðŸ‘ˆ NEW\r\n) {\r\n\r\n  useEffect(() => {\r\n    if (!ref.current || pauseAnimation) return;\r\n\r\n    // Figure out where we live (shadow/dom) and what to use as IO root.\r\n    const shadow = getShadowRoot?.() ?? null;\r\n    const isInShadow = !!shadow;\r\n    const containerEl =\r\n      (typeof getScrollRoot === 'function' && getScrollRoot()) ||\r\n      // prefer your inner scroller if we can find it:\r\n      (isInShadow ? shadow.querySelector('.embedded-app') as Element | null : null) ||\r\n      null; // fallback = viewport\r\n\r\n    // (optional) gate transforms to when pointer is inside shadow host\r\n    let mouseInside = false;\r\n    const hostEl = isInShadow ? (shadow as ShadowRoot).host as HTMLElement : null;\r\n    const onEnter = () => (mouseInside = true);\r\n    const onLeave = () => (mouseInside = false);\r\n    if (hostEl) {\r\n      hostEl.addEventListener('pointerenter', onEnter);\r\n      hostEl.addEventListener('pointerleave', onLeave);\r\n    }\r\n\r\n    const cardEl = ref.current!;\r\n    const imageContainer  = cardEl.querySelector('.image-container')  as HTMLElement | null;\r\n    const imageContainer2 = cardEl.querySelector('.image-container2') as HTMLElement | null;\r\n    if (!imageContainer || !imageContainer2) return;\r\n\r\n    const applyTransform = (percentage: number) => {\r\n      const width =\r\n        containerEl instanceof Element\r\n          ? (containerEl as HTMLElement).clientWidth\r\n          : window.innerWidth;\r\n\r\n      let imageContainerTransform = 'translate(0em, 0em)';\r\n      let imageContainer2Transform = 'translate(1em, -28em)';\r\n      let imageContainerZIndex = '5';\r\n      let imageContainer2ZIndex = '1';\r\n\r\n      if (width <= 767) {\r\n        if (percentage > 0.35 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(0.5em, 1em)';\r\n          imageContainer2Transform = 'translate(0.5em, -32.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage > 0.15 && percentage <= 0.35) {\r\n          imageContainerTransform = 'translate(1.5em, 0.5em)';\r\n          imageContainer2Transform = 'translate(-0.25em, -34.5em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        } else if (percentage >= 0 && percentage <= 0.15) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(0em, -33.5em)';\r\n        }\r\n      } else if (width <= 1024) {\r\n        if (percentage >= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(0em, -23.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage < 0.3) {\r\n          imageContainerTransform = 'translate(-0.5em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -23.5em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage < 0.1) {\r\n          imageContainerTransform = 'translate(-0.5em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -23.5em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        }\r\n      } else if (width > 1025) {\r\n        if (percentage > 0.6 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -29.4em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage > 0.3 && percentage <= 0.6) {\r\n          imageContainerTransform = 'translate(1.2em, -0.8em)';\r\n          imageContainer2Transform = 'translate(0em, -28em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        } else if (percentage >= 0 && percentage <= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -28em)';\r\n          imageContainerZIndex = '5';\r\n          imageContainer2ZIndex = '1';\r\n        }\r\n      } else {\r\n        if (percentage > 0.3 && percentage <= 1) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -43em)';\r\n          imageContainerZIndex = '1';\r\n          imageContainer2ZIndex = '5';\r\n        } else if (percentage >= 0 && percentage <= 0.3) {\r\n          imageContainerTransform = 'translate(0em, 0em)';\r\n          imageContainer2Transform = 'translate(1em, -43em)';\r\n        }\r\n      }\r\n\r\n      imageContainer.style.transform = imageContainerTransform;\r\n      imageContainer.style.zIndex = imageContainerZIndex;\r\n      imageContainer2.style.transform = imageContainer2Transform;\r\n      imageContainer2.style.zIndex = imageContainer2ZIndex;\r\n    };\r\n\r\n    // IO now uses the scroll container as root (if available)\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (isInShadow && !mouseInside) return;\r\n\r\n        const rect = entry.boundingClientRect;\r\n\r\n        // use the containerâ€™s rect/height instead of window\r\n        const rootRect = containerEl\r\n          ? (containerEl as Element).getBoundingClientRect()\r\n          : document.documentElement.getBoundingClientRect();\r\n\r\n        const rootHeight =\r\n          containerEl instanceof Element\r\n            ? (containerEl as HTMLElement).clientHeight\r\n            : window.innerHeight;\r\n\r\n        const rootCenter = rootRect.top + rootHeight;\r\n\r\n        // replicate your old math but relative to the container center\r\n        const percentage = Math.max(\r\n          0,\r\n          Math.min(rect.height, rootCenter - rect.top)\r\n        ) / rect.height;\r\n\r\n        applyTransform(percentage);\r\n      },\r\n      {\r\n        root: containerEl || null, // â† critical change\r\n        threshold: Array.from({ length: 101 }, (_, i) => i / 100),\r\n      }\r\n    );\r\n\r\n    // initial position apply (also relative to container)\r\n    const rect = cardEl.getBoundingClientRect();\r\n    const rootRect = containerEl\r\n      ? (containerEl as Element).getBoundingClientRect()\r\n      : document.documentElement.getBoundingClientRect();\r\n    const rootHeight =\r\n      containerEl instanceof Element\r\n        ? (containerEl as HTMLElement).clientHeight\r\n        : window.innerHeight;\r\n    const rootCenter = rootRect.top + rootHeight / 1.5;\r\n    const initialPct = Math.max(0, Math.min(rect.height, rootCenter - rect.top)) / rect.height;\r\n    applyTransform(initialPct);\r\n\r\n    observer.observe(cardEl);\r\n\r\n    return () => {\r\n      observer.disconnect();\r\n      if (hostEl) {\r\n        hostEl.removeEventListener('pointerenter', onEnter);\r\n        hostEl.removeEventListener('pointerleave', onLeave);\r\n      }\r\n    };\r\n  }, [ref, pauseAnimation, getShadowRoot, getScrollRoot]);\r\n}\r\n","","import { useEffect, useState } from 'react';\r\n\r\nexport function useDynamicOverlay(frameRef: React.RefObject<HTMLElement>) {\r\n  const [style, setStyle] = useState<{\r\n    width: number;\r\n    heightSet1: number;\r\n    heightSet2: number;\r\n  }>({\r\n    width: 0,\r\n    heightSet1: 0,\r\n    heightSet2: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const update = () => {\r\n      if (!frameRef.current) return;\r\n\r\n      const rect = frameRef.current.getBoundingClientRect();\r\n      const aspect = rect.width / rect.height;\r\n\r\n      // Aspect ratio breakpoints\r\n      const minAspect = 1.5 / 6.5; // ~0.2307\r\n      const maxAspect = 3.3 / 6.5; // ~0.5077\r\n\r\n      // Width range (shared)\r\n      const minWidth = 150;\r\n      const maxWidth = 320;\r\n\r\n      // Height range set 1 (your current svh-based values)\r\n      const minHeightSet1 = 63;\r\n      const maxHeightSet1 = 93;\r\n\r\n      // Height range set 2 (original px-based)\r\n      const minHeightSet2 = 280;\r\n      const maxHeightSet2 = 610;\r\n\r\n      // --- Aspect ratio-based lerp ---\r\n      let width: number;\r\n      let height1: number;\r\n      let height2: number;\r\n\r\n      if (aspect <= minAspect) {\r\n        width = minWidth;\r\n        height1 = minHeightSet1;\r\n        height2 = minHeightSet2;\r\n      } else if (aspect >= maxAspect) {\r\n        width = maxWidth;\r\n        height1 = maxHeightSet1;\r\n        height2 = maxHeightSet2;\r\n      } else {\r\n        const t = (aspect - minAspect) / (maxAspect - minAspect);\r\n        width = minWidth + (maxWidth - minWidth) * t;\r\n        height1 = minHeightSet1 + (maxHeightSet1 - minHeightSet1) * t;\r\n        height2 = minHeightSet2 + (maxHeightSet2 - minHeightSet2) * t;\r\n      }\r\n\r\n      // --- Absolute height multiplier (0 â†’ 2 over 0â€“1300px) ---\r\n      const minFrameHeight = 0;\r\n      const maxFrameHeight = 1300;\r\n      const minMultiplier = 0;\r\n      const maxMultiplier = 2;\r\n\r\n      const clampedHeight = Math.min(Math.max(rect.height, minFrameHeight), maxFrameHeight);\r\n      const heightT = (clampedHeight - minFrameHeight) / (maxFrameHeight - minFrameHeight);\r\n      const heightMultiplier = minMultiplier + (maxMultiplier - minMultiplier) * heightT;\r\n\r\n      // Apply multiplier\r\n      width *= heightMultiplier;\r\n      height1 *= heightMultiplier;\r\n      height2 *= heightMultiplier;\r\n\r\n      setStyle({\r\n        width,\r\n        heightSet1: height1,\r\n        heightSet2: height2,\r\n      });\r\n    };\r\n\r\n    update();\r\n    window.addEventListener('resize', update);\r\n    window.addEventListener('orientationchange', update);\r\n    return () => {\r\n      window.removeEventListener('resize', update);\r\n      window.removeEventListener('orientationchange', update);\r\n    };\r\n  }, [frameRef]);\r\n\r\n  return style; // { width, heightSet1, heightSet2 }\r\n}\r\n"],"names":["React","useEffect","useState","useRef","client","DynamicAppInbound","useDynamicOverlay","useSsrData","useRealMobileViewport","jsx","_jsx","jsxs","_jsxs","getDeviceType","w","BLANK_IMG","DEBOUNCE_MS","DynamicApp","ssrData","preloadedMap","preloaded","dynamic","svgMap","setSvgMap","device","setDevice","window","innerWidth","imgLoaded","setImgLoaded","frameRef","resizeTimer","overlaySize","isRealMobile","Object","keys","length","fetch","then","results","map","forEach","item","title","toLowerCase","file","asset","url","catch","err","console","warn","handleResize","current","clearTimeout","setTimeout","next","prev","addEventListener","removeEventListener","svgUrl","img","complete","className","children","ref","src","alt","onLoad","onError","draggable","style","visibility","opacity","transition","width","height","heightSet1","heightSet2","onFocusChange","useCallback","Navigation","TitleDivider","SortBy","LoadingScreen","FireworksDisplay","PauseButton","Footer","fetchSVGIcons","ObservedCard","setupAltObserver","IntroOverlay","colorMapping","useShadowRoot","indexCss","miscCss","overlayCss","Fragment","_Fragment","DynamicTheme","sortedImages","setSortedImages","svgIcons","setSvgIcons","activeColor","setActiveColor","movingTextColors","setMovingTextColors","lastKnownColor","setLastKnownColor","isLoading","setIsLoading","pauseAnimation","setPauseAnimation","showNavigation","setShowNavigation","toggleFireworksRef","scrollContainerRef","shadowRef","showFireworks","setShowFireworks","getShadowRoot","injectStyle","timeout","icons","iconMapping","reduce","acc","icon","observerRoot","root","document","handleActivate","handleDeactivate","handleSetToggleFireworks","toggleFunction","handlePauseToggle","isEnabled","alt1","colors","observer","ResizeObserver","log","getBoundingClientRect","observe","disconnect","container","querySelector","IntersectionObserver","entry","isVisible","isIntersecting","threshold","cardRefs","_","i","createRef","isFullScreen","customArrowIcon2","customArrowIcon","items","isInShadow","scrollLockContainer","onToggleFireworks","svgIcon","id","toggleP5Animation","setSortOption","onFetchItems","getRoot","data","index","linkArrowIcon","createShadowRoot","ShadowRootProvider","shadowRoot","setShadowRoot","ShadowRoot","div","getRootNode","host","el","startY","focusTriggered","triggerSyntheticClick","down","PointerEvent","bubbles","cancelable","composed","pointerType","dispatchEvent","handleTouchStart","e","touches","clientY","handleTouchMove","deltaY","Math","abs","scrollTop","passive","UIcards","useIntersectionTransform","backgroundColor","image1","image2","alt2","url1","getScrollRoot","shadow","containerEl","mouseInside","hostEl","onEnter","onLeave","cardEl","imageContainer","imageContainer2","applyTransform","percentage","Element","clientWidth","imageContainerTransform","imageContainer2Transform","imageContainerZIndex","imageContainer2ZIndex","transform","zIndex","rect","boundingClientRect","rootRect","documentElement","rootHeight","clientHeight","innerHeight","rootCenter","top","max","min","Array","from","initialPct","setStyle","update","aspect","minAspect","maxAspect","minWidth","maxWidth","minHeightSet1","maxHeightSet1","minHeightSet2","maxHeightSet2","height1","height2","t","minFrameHeight","maxFrameHeight","minMultiplier","maxMultiplier","clampedHeight","heightT","heightMultiplier"],"sourceRoot":""}