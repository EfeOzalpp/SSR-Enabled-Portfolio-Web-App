{"version":3,"file":"src_components_rock-escapade_block-g-coin-counter_tsx-src_components_rock-escapade_block-g-ex-2fb78b.server.js","mappings":"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","sources":["webpack://personal-site/./src/components/rock-escapade/block-g-coin-counter.tsx","webpack://personal-site/./src/components/rock-escapade/block-g-exit.tsx","webpack://personal-site/./src/components/rock-escapade/block-g-game-over.tsx","webpack://personal-site/./src/components/rock-escapade/updateHighScore.ts","webpack://personal-site/./src/components/rock-escapade/useHighScoreSubscription.ts","webpack://personal-site/./src/ssr/logic/game-input-guards.tsx","webpack://personal-site/./src/ssr/logic/game-over-controller.tsx","webpack://personal-site/./src/styles/block-type-g.css","webpack://personal-site/./src/styles/loading-hub.css","webpack://personal-site/./src/utils/content-utility/lazy-view-mount.tsx","webpack://personal-site/./src/utils/content-utility/real-mobile.ts","webpack://personal-site/./src/utils/loading/loading-hub.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport lottie, { type AnimationItem, type AnimationSegment } from 'lottie-web';\r\nimport coin from '../../svg/coin.json';\r\n\r\ninterface CoinCounterProps {\r\n  coins: number;\r\n  highScore: number;\r\n  newHighScore: boolean;\r\n}\r\n\r\nconst CoinCounter: React.FC<CoinCounterProps> = ({ coins, highScore, newHighScore }) => {\r\n  const coinRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!coinRef.current) return;\r\n\r\n    const anim: AnimationItem = lottie.loadAnimation({\r\n      container: coinRef.current,\r\n      renderer: 'svg',\r\n      loop: false,          // we'll loop manually with segments\r\n      autoplay: false,\r\n      animationData: coin,\r\n    });\r\n\r\n    const onDomLoaded = () => {\r\n      const svg = coinRef.current?.querySelector('svg');\r\n      if (svg) svg.classList.add('coin-lottie');\r\n\r\n      // start the loop once we know totalFrames\r\n      const total = anim.totalFrames;\r\n      const segment: AnimationSegment = [41, total - 1];\r\n\r\n      const loopOnce = () => anim.playSegments(segment, true);\r\n      const onComplete = () => loopOnce();\r\n\r\n      // kick it off and keep looping\r\n      loopOnce();\r\n      anim.addEventListener('complete', onComplete);\r\n\r\n      // store cleanup that knows this handler\r\n      cleanupHandlers.complete = () => anim.removeEventListener('complete', onComplete);\r\n    };\r\n\r\n    // attach, and keep a way to remove it on unmount\r\n    anim.addEventListener('DOMLoaded', onDomLoaded);\r\n\r\n    const cleanupHandlers: { complete?: () => void } = {};\r\n\r\n    return () => {\r\n      cleanupHandlers.complete?.();\r\n      anim.removeEventListener('DOMLoaded', onDomLoaded);\r\n      anim.destroy();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"coin-counter\">\r\n      <div className=\"coin-count\">\r\n        <div className=\"coin2\" ref={coinRef} />\r\n        <h3 className=\"coin-amount\">{coins}</h3>\r\n      </div>\r\n      <h3\r\n        className=\"high-score\"\r\n        style={{ background: newHighScore ? '#f6c44b38' : '#514068bd' }}\r\n      >\r\n        {newHighScore ? 'New High Score: ' : 'High Score: '}\r\n        {highScore}\r\n      </h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CoinCounter;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst ExitButton = ({ onExit }) => {\r\n  const [visible, setVisible] = useState(true);\r\n  const [isFadingOut, setIsFadingOut] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    if (onExit) onExit();\r\n    setIsFadingOut(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isFadingOut) {\r\n      const timeout = setTimeout(() => {\r\n        setVisible(false);\r\n      }, 300); // Match CSS transition duration\r\n\r\n      return () => clearTimeout(timeout);\r\n    }\r\n  }, [isFadingOut]);\r\n\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    <div className=\"block-g-exit\"\r\n      onClick={handleClick}\r\n      style={{\r\n        opacity: isFadingOut ? 0 : 1,\r\n        transition: 'opacity 0.3s ease'\r\n    }} ><h4> Exit </h4> </div>\r\n  );\r\n};\r\n\r\nexport default ExitButton;\r\n","// src/components/rock-escapade/block-g-game-over.tsx\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport lottie from 'lottie-web';\r\nimport gameOver from '../../svg/gameover.json';\r\nimport highScore from '../../svg/highscore.json';\r\n\r\ntype Props = {\r\n  onRestart?: () => void;\r\n  visibleTrigger?: number | boolean;\r\n  coins: number;\r\n  newHighScore: boolean;\r\n};\r\n\r\nconst BlockGGameOver: React.FC<Props> = ({ onRestart, visibleTrigger, coins, newHighScore }) => {\r\n  const [visible, setVisible] = useState(true);\r\n  const [isFadingOut, setIsFadingOut] = useState(false);\r\n  const lottieRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const handleClick = () => {\r\n    onRestart?.();\r\n    setIsFadingOut(true);\r\n  };\r\n\r\n  // fade-out -> unmount\r\n  useEffect(() => {\r\n    if (!isFadingOut) return;\r\n    const t = setTimeout(() => setVisible(false), 300);\r\n    return () => clearTimeout(t);\r\n  }, [isFadingOut]);\r\n\r\n  // external trigger to re-show\r\n  useEffect(() => {\r\n    if (visibleTrigger) {\r\n      setVisible(true);\r\n      setIsFadingOut(false);\r\n    }\r\n  }, [visibleTrigger]);\r\n\r\n  // disable background scroll while visible\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n\r\n    const prevent = (e: Event) => e.preventDefault();\r\n\r\n    window.addEventListener('wheel', prevent, { passive: false });\r\n    window.addEventListener('touchmove', prevent, { passive: false });\r\n    window.addEventListener('keydown', prevent as any, { passive: false });\r\n\r\n    const prev = document.body.style.overflow;\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    return () => {\r\n      window.removeEventListener('wheel', prevent as any);\r\n      window.removeEventListener('touchmove', prevent as any);\r\n      window.removeEventListener('keydown', prevent as any);\r\n      document.body.style.overflow = prev;\r\n    };\r\n  }, [visible]);\r\n\r\n  // lottie\r\n  useEffect(() => {\r\n    if (!lottieRef.current) return;\r\n    const anim = lottie.loadAnimation({\r\n      container: lottieRef.current,\r\n      renderer: 'svg',\r\n      loop: newHighScore ? true : false,\r\n      autoplay: true,\r\n      animationData: newHighScore ? highScore : gameOver,\r\n    });\r\n    return () => anim.destroy();\r\n  }, [newHighScore]);\r\n\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    // OPAQUE, FULL-SCREEN BACKDROP (covers canvas completely)\r\n    <div\r\n      className=\"gameover-overlay\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      onClick={handleClick}\r\n      style={{\r\n        position: 'fixed',\r\n        inset: 0,\r\n        width: '100vw',\r\n        height: '100vh',              \r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        opacity: isFadingOut ? 0 : 1,\r\n        transition: 'opacity 0.3s ease',\r\n        cursor: 'pointer',\r\n      }}\r\n    >\r\n      {/* Keep your existing class for inner layout/typography */}\r\n      <div className=\"block-g-gameover\" style={{ position: 'relative' }}>\r\n        <div ref={lottieRef} className=\"gameover-lottie\" />\r\n        <div className=\"gameover-text-area\">\r\n          <h1\r\n            className=\"gameover-text\"\r\n            style={{ color: newHighScore ? 'rgb(255 230 203)' : 'rgb(222 202 250)' }}\r\n          >\r\n            {newHighScore ? 'New High Score!' : 'Game Over'}\r\n          </h1>\r\n\r\n          <div style={{ margin: '8px 0' }}>—</div>\r\n\r\n          <div className=\"gameover-coin-count\">\r\n            <h2 style={{ color: 'rgb(255, 205, 55)' }}>{coins} Coins Collected</h2>\r\n          </div>\r\n\r\n          <h4 className=\"gameover-cta\">Click to Play Again</h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlockGGameOver;\r\n","export async function updateHighScore(score: number) {\r\n  try {\r\n    const res = await fetch('/api/highscore', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ score }),\r\n    });\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n    const data = await res.json();\r\n    return data.highScore as number;\r\n  } catch (err) {\r\n    console.error('[HS] update failed:', err);\r\n    return null;\r\n  }\r\n}\r\n","import {useEffect, useState} from 'react'\r\nimport client from '../../utils/sanity'\r\n\r\ntype Doc = { _id: string; score: number }\r\n\r\nconst QUERY = `*[_type == \"highScore\"] | order(score desc)[0]{ _id, score }`\r\n\r\nexport const useHighScoreSubscription = () => {\r\n  const [highScore, setHighScore] = useState<number>(0)\r\n\r\n  useEffect(() => {\r\n    // initial fetch\r\n    client.fetch<Doc | null>(QUERY).then((doc) => {\r\n      if (typeof doc?.score === 'number') setHighScore(doc.score)\r\n    })\r\n\r\n    // subscribe to live updates\r\n    const sub = client.listen(QUERY, {}, {includeResult: true, visibility: 'query'})\r\n      .subscribe((ev: any) => {\r\n        const next = ev?.result?.score\r\n        if (typeof next === 'number') setHighScore(next)\r\n      })\r\n\r\n    return () => sub.unsubscribe?.()\r\n  }, [])\r\n\r\n  return highScore\r\n}\r\n","// game-input-guards.tsx\r\nimport React, { useEffect, useRef } from 'react';\r\n\r\ntype Props = {\r\n  /** When true, guards are active */\r\n  active: boolean;\r\n  /** Hide body scroll while active (restores previous value on cleanup) */\r\n  lockBodyScroll?: boolean;\r\n  /** Also block wheel scrolling while active */\r\n  alsoBlockWheel?: boolean;\r\n  /** Also block touchmove scrolling while active */\r\n  alsoBlockTouch?: boolean;\r\n  /** Don’t block when typing in inputs/selects/textareas */\r\n  allowWhenTyping?: boolean;\r\n  /** Extra keyboard keys to block (in addition to scroll keys) */\r\n  extraKeysToBlock?: string[];\r\n};\r\n\r\nconst SCROLL_KEYS = new Set([\r\n  ' ', 'Spacebar',         // Space\r\n  'ArrowUp', 'ArrowDown',\r\n  'ArrowLeft', 'ArrowRight',\r\n  'PageUp', 'PageDown',\r\n  'Home', 'End',\r\n]);\r\n\r\nconst isFormField = (el: HTMLElement | null) => {\r\n  const tag = el?.tagName;\r\n  return !!tag && /^(INPUT|TEXTAREA|SELECT)$/.test(tag);\r\n};\r\n\r\nconst GameInputGuards: React.FC<Props> = ({\r\n  active,\r\n  lockBodyScroll = true,\r\n  alsoBlockWheel = true,\r\n  alsoBlockTouch = true,\r\n  allowWhenTyping = true,\r\n  extraKeysToBlock = [],\r\n}) => {\r\n  const prevOverflow = useRef<string | null>(null);\r\n  const prevOverscroll = useRef<string | null>(null);\r\n  const extra = new Set(extraKeysToBlock);\r\n\r\n  // Keyboard guard (block default scroll behavior)\r\n  useEffect(() => {\r\n    if (!active) return;\r\n\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (allowWhenTyping && isFormField(e.target as HTMLElement | null)) return;\r\n\r\n      const k = e.key;\r\n      if (SCROLL_KEYS.has(k) || extra.has(k)) {\r\n        // important: prevent default so page/scroll-controllers don’t react\r\n        e.preventDefault();\r\n        // do NOT stopPropagation, so the game can still read the event\r\n      }\r\n    };\r\n\r\n    // capture + passive:false to reliably intercept before site handlers\r\n    window.addEventListener('keydown', onKey, { capture: true, passive: false });\r\n    window.addEventListener('keypress', onKey as any, { capture: true, passive: false } as any);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', onKey as any, { capture: true } as any);\r\n      window.removeEventListener('keypress', onKey as any, { capture: true } as any);\r\n    };\r\n  }, [active, allowWhenTyping, extraKeysToBlock.join('|')]);\r\n\r\n  // Wheel / touch scroll guards\r\n  useEffect(() => {\r\n    if (!active) return;\r\n\r\n    const block = (e: Event) => { e.preventDefault(); };\r\n\r\n    if (alsoBlockWheel) window.addEventListener('wheel', block, { passive: false });\r\n    if (alsoBlockTouch) window.addEventListener('touchmove', block, { passive: false });\r\n\r\n    return () => {\r\n      if (alsoBlockWheel) window.removeEventListener('wheel', block as any);\r\n      if (alsoBlockTouch) window.removeEventListener('touchmove', block as any);\r\n    };\r\n  }, [active, alsoBlockWheel, alsoBlockTouch]);\r\n\r\n  // Body scroll lock (and overscroll containment to help iOS)\r\n  useEffect(() => {\r\n    if (!active || !lockBodyScroll) return;\r\n    const body = document.body;\r\n    prevOverflow.current = body.style.overflow;\r\n    prevOverscroll.current = (body.style as any).overscrollBehavior || null;\r\n\r\n    body.style.overflow = 'hidden';\r\n    (body.style as any).overscrollBehavior = 'contain';\r\n\r\n    return () => {\r\n      body.style.overflow = prevOverflow.current ?? '';\r\n      (body.style as any).overscrollBehavior = prevOverscroll.current ?? '';\r\n    };\r\n  }, [active, lockBodyScroll]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default GameInputGuards;\r\n","import React, { useEffect, useMemo, useRef } from 'react'\r\nimport BlockGGameOver from '../../components/rock-escapade/block-g-game-over'\r\nimport { updateHighScore } from '../../components/rock-escapade/updateHighScore'\r\n\r\ntype Props = {\r\n  score: number | null\r\n  highScore: number\r\n  onRestart: () => void\r\n  onHide: () => void\r\n}\r\n\r\nconst GameOverController: React.FC<Props> = ({ score, highScore, onRestart, onHide }) => {\r\n  const visible = score != null\r\n  const isNewHigh = useMemo(() => (score ?? -Infinity) > highScore, [score, highScore])\r\n  const submittedRef = useRef(false)\r\n\r\n  useEffect(() => {\r\n    if (!visible) {\r\n      submittedRef.current = false\r\n      return\r\n    }\r\n    if (score == null) return\r\n\r\n    if (isNewHigh && !submittedRef.current) {\r\n      submittedRef.current = true\r\n      updateHighScore(score).catch((err) => console.error('[HS] update failed:', err))\r\n    }\r\n  }, [visible, score, isNewHigh])\r\n\r\n  if (!visible || score == null) return null\r\n\r\n  const handleRestart = () => {\r\n    onRestart()\r\n    onHide()\r\n  }\r\n\r\n  return (\r\n    <BlockGGameOver\r\n      onRestart={handleRestart}\r\n      visibleTrigger={1}\r\n      coins={score}\r\n      newHighScore={isNewHigh}\r\n    />\r\n  )\r\n}\r\n\r\nexport default GameOverController\r\n","","","// src/utils/content-utility/lazy-view-mount.tsx\r\nimport { useEffect, useRef, useState, Suspense, type ComponentType, lazy } from 'react';\r\n\r\ntype MountMode = 'io' | 'idle' | 'immediate';\r\n\r\ntype Props = {\r\n  load: () => Promise<{ default: ComponentType<any> }>;\r\n  fallback?: React.ReactNode;\r\n\r\n  /** Mount strategy: via IntersectionObserver ('io'), after idle ('idle'), or immediately ('immediate') */\r\n  mountMode?: MountMode;            // default 'io'\r\n\r\n  /** IO (only used when mountMode === 'io') */\r\n  enterThreshold?: number;          // default 0.2\r\n  exitThreshold?: number;           // default 0.05\r\n  unmountDelayMs?: number;          // default 150\r\n  root?: Element | null;            // default null (viewport)\r\n  rootMargin?: string;              // default '0px'\r\n  observeTargetId?: string;         // default: observe our own placeholder\r\n\r\n  /** Preloading */\r\n  preloadOnIdle?: boolean;          // default true (safe even when mountMode!=='io')\r\n  preloadIdleTimeout?: number;      // default 2000\r\n  preloadOnFirstIO?: boolean;       // default true (only matters in 'io' mode)\r\n\r\n  /** Layout/UX */\r\n  placeholderMinHeight?: number;    // default 360\r\n  fadeMs?: number;                  // default 600\r\n  fadeEasing?: string;              // default 'ease'\r\n\r\n  /** Forwarded props to the lazy component */\r\n  componentProps?: Record<string, any>;\r\n};\r\n\r\nconst hasWindow = typeof window !== 'undefined';\r\nconst hasRIC = hasWindow && 'requestIdleCallback' in (window as any);\r\nconst hasCIC = hasWindow && 'cancelIdleCallback' in (window as any);\r\nconst ric = (cb: any, opts?: any) =>\r\n  hasRIC ? (window as any).requestIdleCallback(cb, opts) : setTimeout(cb, opts?.timeout ?? 0);\r\nconst cic = (id: any) =>\r\n  hasCIC ? (window as any).cancelIdleCallback(id) : clearTimeout(id);\r\n\r\nexport default function LazyViewMount({\r\n  load,\r\n  fallback = null,\r\n\r\n  // strategy\r\n  mountMode = 'io',\r\n\r\n  // IO-only\r\n  enterThreshold = 0.2,\r\n  exitThreshold = 0.05,\r\n  unmountDelayMs = 150,\r\n  root = null,\r\n  rootMargin = '0px',\r\n  observeTargetId,\r\n\r\n  // preload\r\n  preloadOnIdle = true,\r\n  preloadIdleTimeout = 2000,\r\n  preloadOnFirstIO = true,\r\n\r\n  // layout/UX\r\n  placeholderMinHeight = 360,\r\n  fadeMs = 300,\r\n  fadeEasing = 'ease',\r\n\r\n  componentProps,\r\n}: Props) {\r\n  const isServer = !hasWindow;\r\n\r\n  const selfRef = useRef<HTMLDivElement | null>(null);\r\n  const [Comp, setComp] = useState<ComponentType | null>(null);\r\n\r\n  // mounted vs visible (for fade)\r\n  const mountedRef = useRef(false);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  const unmountDebounceRef = useRef<number | null>(null);\r\n  const fadeOutTimerRef = useRef<number | null>(null);\r\n  const firstIOSeen = useRef(false);\r\n\r\n  // preload cache\r\n  const preloadPromiseRef = useRef<Promise<{ default: ComponentType<any> }> | null>(null);\r\n  const idleId = useRef<any>(null);\r\n\r\n  const ensurePreloaded = () => {\r\n    if (!preloadPromiseRef.current) {\r\n      preloadPromiseRef.current = load();\r\n    }\r\n    return preloadPromiseRef.current;\r\n  };\r\n\r\n  const clearUnmountTimers = () => {\r\n    if (unmountDebounceRef.current != null) {\r\n      window.clearTimeout(unmountDebounceRef.current);\r\n      unmountDebounceRef.current = null;\r\n    }\r\n    if (fadeOutTimerRef.current != null) {\r\n      window.clearTimeout(fadeOutTimerRef.current);\r\n      fadeOutTimerRef.current = null;\r\n    }\r\n  };\r\n\r\n  const mountNow = () => {\r\n    if (mountedRef.current) {\r\n      if (!isVisible) setIsVisible(true);\r\n      return;\r\n    }\r\n    mountedRef.current = true;\r\n    const promise = ensurePreloaded();\r\n    setComp(prev => prev ?? (lazy(() => promise) as unknown as ComponentType));\r\n    setIsMounted(true);\r\n    requestAnimationFrame(() => setIsVisible(true));\r\n  };\r\n\r\n  const scheduleUnmount = () => {\r\n    if (!mountedRef.current) return;\r\n    clearUnmountTimers();\r\n    unmountDebounceRef.current = window.setTimeout(() => {\r\n      setIsVisible(false);\r\n      fadeOutTimerRef.current = window.setTimeout(() => {\r\n        setIsMounted(false);\r\n        mountedRef.current = false;\r\n      }, fadeMs);\r\n    }, unmountDelayMs);\r\n  };\r\n\r\n  /* Preload on idle (works for all modes) */\r\n  useEffect(() => {\r\n    if (isServer || !preloadOnIdle) return;\r\n    if (idleId.current) cic(idleId.current);\r\n    idleId.current = ric(() => ensurePreloaded(), { timeout: preloadIdleTimeout });\r\n    return () => { if (idleId.current) { cic(idleId.current); idleId.current = null; } };\r\n  }, [isServer, preloadOnIdle, preloadIdleTimeout, load]);\r\n\r\n  /* Mount behavior per mode */\r\n  useEffect(() => {\r\n    if (isServer) return;\r\n\r\n    if (mountMode === 'immediate') {\r\n      // mount as soon as possible\r\n      mountNow();\r\n      return;\r\n    }\r\n\r\n    if (mountMode === 'idle') {\r\n      // after idle (or immediately if idle already passed)\r\n      let cancel = ric(() => mountNow(), { timeout: preloadIdleTimeout });\r\n      return () => { if (cancel) cic(cancel); };\r\n    }\r\n\r\n    // mountMode === 'io'\r\n    const el =\r\n      (observeTargetId ? document.getElementById(observeTargetId) : null) ||\r\n      selfRef.current;\r\n\r\n    if (!el) return;\r\n\r\n    if (typeof IntersectionObserver === 'undefined') {\r\n      mountNow();\r\n      return;\r\n    }\r\n\r\n  // --- replace the IntersectionObserver callback in lazy-view-mount.tsx ---\r\n  const thresholds = Array.from(new Set([0, exitThreshold, enterThreshold])).sort((a, b) => a - b);\r\n\r\n  const io = new IntersectionObserver(\r\n    ([entry]) => {\r\n      const ratio = entry.intersectionRatio || 0;\r\n      const visible = !!entry.isIntersecting;\r\n\r\n      // First IO seen → optional preload\r\n      if (!firstIOSeen.current) {\r\n        firstIOSeen.current = true;\r\n        if (preloadOnFirstIO) ensurePreloaded();\r\n      }\r\n\r\n      // Fast-path: on any (re)intersection, mount immediately if not mounted\r\n      if (visible && !mountedRef.current) {\r\n        clearUnmountTimers();\r\n        mountNow();\r\n        return;\r\n      }\r\n\r\n      // Normal hysteresis:\r\n      // - If we've reached the \"enter\" threshold, keep/make visible\r\n      if (ratio >= enterThreshold) {\r\n        clearUnmountTimers();\r\n        if (!mountedRef.current) mountNow();\r\n        return;\r\n      }\r\n\r\n      // - If we've dropped below exit threshold OR not intersecting at all, schedule unmount\r\n      if (!visible || ratio <= exitThreshold) {\r\n        scheduleUnmount();\r\n      }\r\n    },\r\n    { root, rootMargin, threshold: thresholds }\r\n  );\r\n\r\n    io.observe(el);\r\n    return () => { io.disconnect(); clearUnmountTimers(); };\r\n  }, [\r\n    isServer,\r\n    mountMode,\r\n    root,\r\n    rootMargin,\r\n    enterThreshold,\r\n    exitThreshold,\r\n    observeTargetId,\r\n    load,\r\n    fadeMs,\r\n    unmountDelayMs,\r\n    preloadIdleTimeout,\r\n    preloadOnFirstIO,\r\n  ]);\r\n\r\n  const CompAny = Comp as any;\r\n\r\n  return (\r\n    <div\r\n      ref={selfRef}\r\n      style={{ width: '100%', minHeight: placeholderMinHeight, position: 'relative' }}\r\n    >\r\n      {isMounted && CompAny ? (\r\n        <div\r\n          style={{\r\n            opacity: isVisible ? 1 : 0,\r\n            transition: `opacity ${fadeMs}ms ${fadeEasing}`,\r\n            willChange: 'opacity',\r\n          }}\r\n        >\r\n          <Suspense fallback={fallback}>\r\n            <CompAny {...(componentProps || {})} />\r\n          </Suspense>\r\n        </div>\r\n      ) : (\r\n        fallback\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","// useRealMobileViewport.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useRealMobileViewport() {\r\n  const [isRealMobile, setIsRealMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const touch = navigator.maxTouchPoints > 0;\r\n      const coarse = window.matchMedia?.('(pointer: coarse)').matches ?? false;\r\n      const width = window.innerWidth;\r\n      const ua = navigator.userAgent || navigator.vendor || (window as any).opera;\r\n\r\n      // iOS detection (iPhone / iPad)\r\n      const isIOS = /iPad|iPhone|iPod/.test(ua) ||\r\n        (navigator.platform === 'MacIntel' && touch); // iPadOS pretends to be Mac\r\n\r\n      // Android detection\r\n      const isAndroid = /Android/.test(ua);\r\n\r\n      // Consider it real mobile if:\r\n      // - Touch exists, and viewport is small, or\r\n      // - Known mobile UA\r\n      const realMobile =\r\n        (touch && width <= 1024) ||\r\n        isIOS ||\r\n        isAndroid ||\r\n        coarse;\r\n\r\n      setIsRealMobile(realMobile);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    window.addEventListener('orientationchange', checkMobile);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkMobile);\r\n      window.removeEventListener('orientationchange', checkMobile);\r\n    };\r\n  }, []);\r\n\r\n  return isRealMobile;\r\n}\r\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport '../../styles/loading-hub.css';\r\n\r\ntype LoadingHubProps = {\r\n  keyword?: string;\r\n  lines?: string[];\r\n  /** Fixed height so layout doesn’t jump */\r\n  minHeight?: number | string;\r\n  /** Extra className to theme per block */\r\n  className?: string;\r\n  /** ARIA label for screen readers */\r\n  ariaLabel?: string;\r\n  /** Optional % if you fake/stream progress */\r\n  progress?: number | null;\r\n  /** Full cycle time per line (ms) */\r\n  cycleMs?: number;\r\n  /** Animation length inside that cycle (ms) */\r\n  animMs?: number;\r\n};\r\n\r\nexport default function LoadingHub({\r\n  keyword,\r\n  lines = ['Loading…'],\r\n  minHeight = 160,\r\n  className = '',\r\n  ariaLabel = 'Loading',\r\n  progress = null,\r\n  cycleMs = 1400,\r\n  animMs = 900,\r\n}: LoadingHubProps) {\r\n  const [lineIndex, setLineIndex] = useState(0);\r\n\r\n  // rotate through provided lines (no-op if only one)\r\n  const hasMultiple = lines.length > 1;\r\n  useEffect(() => {\r\n    if (!hasMultiple) return;\r\n    const t = setInterval(() => {\r\n      setLineIndex((i) => (i + 1) % lines.length);\r\n    }, cycleMs);\r\n    return () => clearInterval(t);\r\n  }, [hasMultiple, lines.length, cycleMs]);\r\n\r\n  // Avoid reflow: lock container height\r\n  const style = useMemo<React.CSSProperties>(() => {\r\n    const h = typeof minHeight === 'number' ? `${minHeight}px` : (minHeight ?? 'auto');\r\n    return { minHeight: h };\r\n  }, [minHeight]);\r\n\r\n  // SR-only progressive percent\r\n  const srRef = useRef<HTMLSpanElement>(null);\r\n  useEffect(() => {\r\n    if (progress == null || !srRef.current) return;\r\n    srRef.current.textContent = `${Math.round(progress)}%`;\r\n  }, [progress]);\r\n\r\n  return (\r\n    <div\r\n      className={`loading-hub loading-hub--text ${className || ''}`}\r\n      style={style}\r\n      role=\"status\"\r\n      aria-live=\"polite\"\r\n      aria-label={ariaLabel}\r\n      data-keyword={keyword || undefined}\r\n      // expose anim timing to CSS\r\n      data-anim-ms={animMs}\r\n    >\r\n      <div className=\"loading-hub__copy\" aria-hidden={false}>\r\n        {/* key forces re-mount so the animation restarts */}\r\n        <h2 key={lineIndex} className=\"loading-hub__line\">\r\n          {lines[lineIndex]}\r\n        </h2>\r\n\r\n        {progress != null && (\r\n          <div className=\"loading-hub__progress\" aria-hidden=\"true\">\r\n            {Math.round(progress)}%\r\n          </div>\r\n        )}\r\n\r\n        {/* SR-only percent, updates without layout */}\r\n        <span className=\"sr-only\" ref={srRef} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["React","useEffect","useRef","lottie","coin","jsx","_jsx","jsxs","_jsxs","CoinCounter","coins","highScore","newHighScore","coinRef","current","anim","loadAnimation","container","renderer","loop","autoplay","animationData","onDomLoaded","svg","querySelector","classList","add","total","totalFrames","segment","loopOnce","playSegments","onComplete","addEventListener","cleanupHandlers","complete","removeEventListener","destroy","className","children","ref","style","background","useState","ExitButton","onExit","visible","setVisible","isFadingOut","setIsFadingOut","handleClick","timeout","setTimeout","clearTimeout","onClick","opacity","transition","gameOver","BlockGGameOver","onRestart","visibleTrigger","lottieRef","t","prevent","e","preventDefault","window","passive","prev","document","body","overflow","role","position","inset","width","height","display","alignItems","justifyContent","cursor","color","margin","updateHighScore","score","res","fetch","method","headers","JSON","stringify","ok","Error","status","data","json","err","console","error","client","QUERY","useHighScoreSubscription","setHighScore","then","doc","sub","listen","includeResult","visibility","subscribe","ev","next","result","unsubscribe","SCROLL_KEYS","Set","isFormField","el","tag","tagName","test","GameInputGuards","active","lockBodyScroll","alsoBlockWheel","alsoBlockTouch","allowWhenTyping","extraKeysToBlock","prevOverflow","prevOverscroll","extra","onKey","target","k","key","has","capture","join","block","overscrollBehavior","useMemo","GameOverController","onHide","isNewHigh","Infinity","submittedRef","catch","handleRestart","Suspense","lazy","hasWindow","hasRIC","hasCIC","ric","cb","opts","requestIdleCallback","cic","id","cancelIdleCallback","LazyViewMount","load","fallback","mountMode","enterThreshold","exitThreshold","unmountDelayMs","root","rootMargin","observeTargetId","preloadOnIdle","preloadIdleTimeout","preloadOnFirstIO","placeholderMinHeight","fadeMs","fadeEasing","componentProps","isServer","selfRef","Comp","setComp","mountedRef","isMounted","setIsMounted","isVisible","setIsVisible","unmountDebounceRef","fadeOutTimerRef","firstIOSeen","preloadPromiseRef","idleId","ensurePreloaded","clearUnmountTimers","mountNow","promise","requestAnimationFrame","scheduleUnmount","cancel","getElementById","IntersectionObserver","thresholds","Array","from","sort","a","b","io","entry","ratio","intersectionRatio","isIntersecting","threshold","observe","disconnect","CompAny","minHeight","willChange","useRealMobileViewport","isRealMobile","setIsRealMobile","checkMobile","touch","navigator","maxTouchPoints","coarse","matchMedia","matches","innerWidth","ua","userAgent","vendor","opera","isIOS","platform","isAndroid","realMobile","LoadingHub","keyword","lines","ariaLabel","progress","cycleMs","animMs","lineIndex","setLineIndex","hasMultiple","length","setInterval","i","clearInterval","h","srRef","textContent","Math","round","undefined"],"sourceRoot":""}