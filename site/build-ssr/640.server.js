exports.id=640,exports.ids=[640],exports.modules={7579:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(2015),n=a(3292);var s=a(9339),l=a(8303),i=a.n(l),c=a(6442);const o=({activeColor:e,customArrowIcon:t,customArrowIcon2:a,isInShadow:l=!1})=>{const[o,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)(0),[u,g]=(0,r.useState)(!0),[v,p]=(0,r.useState)(!1),[y,f]=(0,r.useState)([]),[N,w]=(0,r.useState)(!1),[S,Y]=(0,r.useState)(!1);(0,s.k)(i(),"dynamic-app-style-nav");const M=()=>{const e=window.scrollY;g(e<=5||e<m),p(e>.1*window.innerHeight),h(e)};(0,r.useEffect)(()=>(window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[m]),(0,r.useEffect)(()=>(document.body.classList.toggle("no-scroll",o),()=>document.body.classList.remove("no-scroll")),[o]),(0,r.useEffect)(()=>{(async()=>{try{const e=await(async()=>{try{return(await n.default.fetch('\n    *[_type == "gallery"]{\n      _id,\n      images[] {\n        image {\n          asset-> {\n            url\n          }\n        },\n        altText\n      }\n    }\n  ')).flatMap(e=>e.images.map((e,t)=>({url:e.image?.asset?.url||"",alt:e.altText||"Default Alt Text",cssClass:`gallery-image-${t}`}))).sort(()=>Math.random()-.5)}catch(e){return console.error("Error fetching gallery data:",e),[]}})();f(e)}catch(e){console.error("Error fetching gallery images:",e)}})()},[]),(0,r.useEffect)(()=>{if(window.innerWidth>1024){const e=document.querySelector(".image-container-g"),t=t=>{e&&(t.preventDefault(),e.scrollLeft+=t.deltaY)};return e&&e.addEventListener("wheel",t),()=>{e&&e.removeEventListener("wheel",t)}}},[]),(0,r.useEffect)(()=>{const e=document.querySelector(".image-container-g"),t=document.querySelector(".scroll-indicator");if(!e||!t)return;const a=()=>{if(window.innerWidth>1024){const a=e.scrollWidth-e.clientWidth,r=e.scrollLeft,n=a>0?Math.max(2,r/a*100):2;t.style.setProperty("--progress-dimension",`${n}%`)}else{const a=e.scrollHeight-e.clientHeight,r=e.scrollTop;if(a>0){const e=100-r/a*100,n=Math.min(100,Math.max(2,100-e));t.style.setProperty("--progress-dimension",`${n}%`)}else t.style.setProperty("--progress-dimension","2%")}};return a(),e.addEventListener("scroll",a),()=>{e.removeEventListener("scroll",a)}},[]),(0,r.useEffect)(()=>{if(o&&!S){w(!0);const e=setTimeout(()=>{const e=document.querySelector(".scroll-hint");e&&(e.style.opacity="0")},3e3),t=setTimeout(()=>{w(!1),Y(!0)},4e3);return()=>{clearTimeout(e),clearTimeout(t)}}},[o,S]);const D=(e,t)=>{let a=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return a=Math.min(255,Math.max(0,Math.floor(a*t))),r=Math.min(255,Math.max(0,Math.floor(r*t))),n=Math.min(255,Math.max(0,Math.floor(n*t))),`#${a.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`},E=D(e,.55),I=D(e,.8);return(0,c.FD)("nav",{className:`navigation ${u?"visible":"hidden"} ${l?"navigation--shadow":""}`,children:[(0,c.FD)("div",{className:"top-bar-items "+(o?"menu-open":""),style:{background:o?"transparent":v?((e,t=.1)=>`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, ${t})`)(e,.8):"transparent",backdropFilter:v&&!o?"blur(5px)":"none"},children:[(0,c.Y)("div",{className:"site-title",children:(0,c.Y)("h-title",{className:"title",children:(0,c.Y)("a",{href:"/",className:"homepage-link",children:"DMI"})})}),(0,c.Y)("div",{className:"menu-icon",onClick:()=>{l||d(e=>!e)},children:(0,c.Y)("div",{className:"hamburger "+(o?"open":"")})})]}),(0,c.FD)("div",{className:"menu-item "+(o?"open":""),children:[(0,c.Y)("div",{className:"menu-item-1",onClick:()=>d(!1)}),(0,c.FD)("div",{className:"menu-item-2",style:{"--darkenedColor":E,"--darkerColor":I},children:[(0,c.FD)("div",{className:"menu-nav",children:[(0,c.Y)("div",{className:"nav-item",children:(0,c.FD)("a",{href:"/dynamic-theme",className:"nav-link",children:[(0,c.Y)("div",{className:"name",children:(0,c.Y)("h4",{children:"What is DMI?"})}),a&&(0,c.Y)("div",{className:"arrow1",dangerouslySetInnerHTML:{__html:a}})]})}),(0,c.Y)("div",{className:"nav-item",children:(0,c.FD)("a",{href:"/dynamic-theme",className:"nav-link",children:[(0,c.Y)("h4",{children:"Case Studies"}),a&&(0,c.Y)("div",{className:"arrow1",dangerouslySetInnerHTML:{__html:a}})]})})]}),(0,c.FD)("div",{className:"gallery-wrapper",children:[(0,c.Y)("div",{className:"scroll-indicator"}),(0,c.FD)("div",{className:"gallery-container",children:[N&&(0,c.FD)("div",{className:"scroll-hint",children:[(0,c.Y)("h5",{children:"Scroll to explore"}),(0,c.Y)("span",{className:"arrow2",dangerouslySetInnerHTML:{__html:t}})]}),(0,c.Y)("div",{className:"image-container-g",children:y.map((e,t)=>(0,c.Y)("img",{src:e.url,alt:e.alt,draggable:"false",className:`gallery-image image-${t}`},t))})]})]})]})]})]})}},8303:()=>{}};
//# sourceMappingURL=640.server.js.map