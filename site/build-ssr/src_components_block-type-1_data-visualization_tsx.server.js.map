{"version":3,"file":"src_components_block-type-1_data-visualization_tsx.server.js","mappings":"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","sources":["webpack://personal-site/./src/components/block-type-1/data-visualization.tsx","webpack://personal-site/./src/utils/content-utility/color-map.ts","webpack://personal-site/./src/utils/content-utility/real-mobile.ts","webpack://personal-site/./src/utils/media-providers/image-upgrade-manager.ts","webpack://personal-site/./src/utils/media-providers/media-loader.tsx","webpack://personal-site/./src/utils/media-providers/video-observer.tsx","webpack://personal-site/./src/utils/tooltip/tooltip.ts","webpack://personal-site/./src/utils/tooltip/tooltipInit.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport client from '../../utils/sanity';\r\nimport MediaLoader from '../../utils/media-providers/media-loader';\r\nimport { useTooltipInit } from '../../utils/tooltip/tooltipInit';\r\nimport { useSsrData } from '../../utils/context-providers/ssr-data-context';\r\nimport { getHighQualityImageUrl } from '../../utils/media-providers/image-builder';\r\nimport '../../styles/block-type-1.css';\r\n\r\ntype VideoSet = { webmUrl?: string; mp4Url?: string; poster?: any };\r\ntype MediaSlot = { alt?: string; image?: any; video?: VideoSet };\r\ntype DataVizData = { mediaOne: MediaSlot };\r\n\r\nexport default function DataVisualizationBlock() {\r\n  const ssrData = useSsrData();\r\n  const [data, setData] = useState<DataVizData | null>(\r\n    (ssrData?.preloaded?.dataviz as DataVizData) || null\r\n  );\r\n\r\n  useTooltipInit();\r\n\r\n  useEffect(() => {\r\n    if (data) return;\r\n    client.fetch<DataVizData>(\r\n      `*[_type == \"mediaBlock\" && slug.current == $slug][0]{\r\n        mediaOne{\r\n          alt,\r\n          image,\r\n          video{\r\n            \"webmUrl\": webm.asset->url,\r\n            \"mp4Url\": mp4.asset->url,\r\n            poster\r\n          }\r\n        }\r\n      }`,\r\n      { slug: 'data-viz' }\r\n    )\r\n    .then(setData)\r\n    .catch((err) => {\r\n      console.warn('[DataVisualizationBlock] GROQ fetch failed:', err);\r\n      setData(null);\r\n    });\r\n  }, []);\r\n\r\n  if (!data?.mediaOne) return null;\r\n\r\n  const { alt = 'Data Visualization', image, video } = data.mediaOne;\r\n  const isVideo = Boolean(video?.webmUrl || video?.mp4Url);\r\n  const highPoster = video?.poster\r\n    ? getHighQualityImageUrl(video.poster, 1920, 1080, 90)\r\n    : undefined;\r\n\r\n  return (\r\n    <section\r\n      className=\"block-type-1\"\r\n      style={{ position: 'relative', width: '100%', height: '100dvh', overflow: 'hidden' }}\r\n    >\r\n      <div\r\n        className=\"media-content\"\r\n        style={{\r\n          width: '100%',\r\n          height: '100%',\r\n          position: 'absolute',\r\n        }}\r\n      >\r\n        <MediaLoader\r\n          type={isVideo ? 'video' : 'image'}\r\n          src={isVideo ? video! : image}\r\n          alt={alt}\r\n          id={isVideo ? 'dataviz-media-video' : 'dataviz-media'}\r\n          {...(highPoster ? { 'data-src-full': highPoster } : {})}\r\n          className=\"tooltip-data-viz\"\r\n          objectPosition=\"center center\"\r\n          style={{ width: '100%', height: '100%' }}\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","// Master color config\r\nexport interface ProjectColor {\r\n  rgb: string;         // \"204, 85, 41\"\r\n  tooltipAlpha?: number;\r\n  defaultAlpha?: number;\r\n  darkThemeTop?: string; // optional override for theme-color\r\n}\r\n\r\nexport const projectColors: Record<string, ProjectColor> = {\r\n  'Rotary Lamp': {\r\n    rgb: '204, 85, 41',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(72, 161, 161, 1)'\r\n  },\r\n  'Ice Cream Scoop': {\r\n    rgb: '234, 103, 97',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(23, 27, 24, 1)'\r\n  },\r\n  'Data Visualization': {\r\n    rgb: '153, 199, 7',\r\n    tooltipAlpha: 0.8,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(28, 30, 31, 1)'\r\n  },\r\n  'Evade the Rock': {\r\n    rgb: '101, 86, 175',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgb(25, 25, 25)'\r\n  },\r\n  'Dynamic App': {\r\n    rgb: '120, 211, 255',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(17, 17, 17, 1)'\r\n  }\r\n};\r\n","// useRealMobileViewport.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useRealMobileViewport() {\r\n  const [isRealMobile, setIsRealMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const touch = navigator.maxTouchPoints > 0;\r\n      const coarse = window.matchMedia?.('(pointer: coarse)').matches ?? false;\r\n      const width = window.innerWidth;\r\n      const ua = navigator.userAgent || navigator.vendor || (window as any).opera;\r\n\r\n      // iOS detection (iPhone / iPad)\r\n      const isIOS = /iPad|iPhone|iPod/.test(ua) ||\r\n        (navigator.platform === 'MacIntel' && touch); // iPadOS pretends to be Mac\r\n\r\n      // Android detection\r\n      const isAndroid = /Android/.test(ua);\r\n\r\n      // Consider it real mobile if:\r\n      // - Touch exists, and viewport is small, or\r\n      // - Known mobile UA\r\n      const realMobile =\r\n        (touch && width <= 1024) ||\r\n        isIOS ||\r\n        isAndroid ||\r\n        coarse;\r\n\r\n      setIsRealMobile(realMobile);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    window.addEventListener('orientationchange', checkMobile);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkMobile);\r\n      window.removeEventListener('orientationchange', checkMobile);\r\n    };\r\n  }, []);\r\n\r\n  return isRealMobile;\r\n}\r\n","// src/utils/image-upgrade-manager.ts\r\nlet totalImages = 0;\r\nlet loadedLowRes = 0;\r\nlet listeners: (() => void)[] = [];\r\nlet upgradeTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\nexport const setUpgradeTimeout = (ms: number = 5000) => {\r\n  if (upgradeTimeout) return;\r\n  upgradeTimeout = setTimeout(() => {\r\n    listeners.forEach(fn => fn());\r\n    listeners = [];\r\n  }, ms);\r\n};\r\n\r\nexport const registerImage = () => {\r\n  totalImages++;\r\n  setUpgradeTimeout();\r\n};\r\n\r\nexport const notifyLowResLoaded = () => {\r\n  loadedLowRes++;\r\n  if (loadedLowRes >= totalImages) {\r\n    listeners.forEach(fn => fn());\r\n    listeners = [];\r\n  }\r\n};\r\n\r\nexport const onAllLowResLoaded = (callback: () => void) => {\r\n  listeners.push(callback);\r\n};\r\n","// src/utils/media-providers/media-loader.tsx\r\nimport { useRef, useState, useEffect } from 'react';\r\nimport { useVideoVisibility } from './video-observer';\r\nimport LoadingScreen from '../content-utility/loading';\r\nimport { SanityImageSource } from '@sanity/image-url/lib/types/types';\r\nimport {\r\n  getLowResImageUrl,\r\n  getMediumImageUrl,\r\n  getHighQualityImageUrl,\r\n  urlFor,\r\n} from './image-builder';\r\nimport {\r\n  registerImage,\r\n  notifyLowResLoaded,\r\n  onAllLowResLoaded,\r\n} from './image-upgrade-manager';\r\n\r\nfunction useNearViewport<T extends Element>(\r\n  ref: React.RefObject<T>,\r\n  { rootMargin = '900px 0px', threshold = 0, once = true } = {}\r\n) {\r\n  const [near, setNear] = useState(false);\r\n  useEffect(() => {\r\n    if (!ref.current || near) return;\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries.some((e) => e.isIntersecting)) {\r\n          setNear(true);\r\n          if (once) io.disconnect();\r\n        }\r\n      },\r\n      { rootMargin, threshold }\r\n    );\r\n    io.observe(ref.current);\r\n    return () => io.disconnect();\r\n  }, [ref, near, rootMargin, threshold, once]);\r\n  return near;\r\n}\r\n\r\ntype VideoSetSrc = {\r\n  webmUrl?: string;\r\n  mp4Url?: string;\r\n  poster?: SanityImageSource | string;\r\n};\r\n\r\ntype MediaLoaderProps = {\r\n  type: 'image' | 'video';\r\n  src: string | SanityImageSource | VideoSetSrc | null | undefined;\r\n  alt?: string;\r\n  id?: string;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n  objectPosition?: string;\r\n  loop?: boolean;\r\n  muted?: boolean;\r\n  playsInline?: boolean;\r\n  preload?: 'auto' | 'metadata' | 'none';\r\n  enableVisibilityControl?: boolean;\r\n  priority?: boolean;\r\n  controls?: boolean;\r\n};\r\n\r\nconst MediaLoader = ({\r\n  type,\r\n  src,\r\n  alt = '',\r\n  id,\r\n  className = '',\r\n  style = {},\r\n  objectPosition = 'center center',\r\n  loop = true,\r\n  muted = true,\r\n  playsInline = true,\r\n  preload = 'metadata',\r\n  enableVisibilityControl = true,\r\n  priority = false,\r\n  controls = false,\r\n}: MediaLoaderProps) => {\r\n  const isSSR = typeof window === 'undefined';\r\n\r\n  // Start as loaded in SSR to avoid fade-in on hydration\r\n  const [loaded, setLoaded] = useState(isSSR);\r\n  const [showMedium, setShowMedium] = useState(false);\r\n  const [showHigh, setShowHigh] = useState(false);\r\n  const [posterRemoved, setPosterRemoved] = useState(false);\r\n\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const imgRef = useRef<HTMLImageElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const isNear = useNearViewport(containerRef);\r\n  const shouldStart = priority || isNear;\r\n\r\n  // If already cached, skip fade-in\r\n  useEffect(() => {\r\n    if (type === 'image' && imgRef.current?.complete) {\r\n      setLoaded(true);\r\n    }\r\n    if (type === 'video' && videoRef.current?.readyState >= 2) {\r\n      setLoaded(true);\r\n    }\r\n  }, [type]);\r\n\r\n  // IMAGE upgrade flow\r\n  useEffect(() => {\r\n    if (type !== 'image') return;\r\n    registerImage();\r\n\r\n    const t1 = setTimeout(() => setShowMedium(true), shouldStart ? 0 : 2000);\r\n    if (shouldStart) setShowMedium(true);\r\n\r\n    const off = () => setTimeout(() => setShowHigh(true), 300);\r\n    onAllLowResLoaded(off);\r\n    const t2 = setTimeout(() => setShowHigh(true), 5000);\r\n\r\n    return () => {\r\n      clearTimeout(t1);\r\n      clearTimeout(t2);\r\n    };\r\n  }, [type, shouldStart]);\r\n\r\n  const onMediaLoaded = () => {\r\n    setLoaded(true);\r\n    if (type === 'image') notifyLowResLoaded();\r\n    if (id) {\r\n      const event = new CustomEvent('mediaReady', { detail: { id } });\r\n      window.dispatchEvent(event);\r\n    }\r\n  };\r\n\r\n  // VIDEO visibility/autoplay\r\n  useVideoVisibility(\r\n    videoRef,\r\n    containerRef,\r\n    type === 'video' && enableVisibilityControl ? 0.4 : undefined\r\n  );\r\n\r\n  // Only load video once before playback starts\r\n  useEffect(() => {\r\n    if (type !== 'video' || !videoRef.current) return;\r\n    const v = videoRef.current;\r\n    let loadedOnce = false;\r\n\r\n    const start = () => {\r\n      if (loadedOnce) return;\r\n      loadedOnce = true;\r\n      if (v.preload !== 'metadata') v.preload = 'metadata';\r\n      try { v.load(); } catch {}\r\n    };\r\n\r\n    if (shouldStart) {\r\n      start();\r\n    } else {\r\n      const t = setTimeout(start, 2000);\r\n      return () => clearTimeout(t);\r\n    }\r\n  }, [type, shouldStart]);\r\n\r\n  // Remove poster after first frame\r\n  useEffect(() => {\r\n    if (type !== 'video' || !videoRef.current) return;\r\n    const v = videoRef.current;\r\n    const handleLoaded = () => {\r\n      setPosterRemoved(true);\r\n      v.removeAttribute('poster');\r\n      v.play().catch(err => {\r\n        console.warn('Autoplay failed:', err);\r\n      });\r\n    };\r\n    v.addEventListener('loadeddata', handleLoaded, { once: true });\r\n    return () => v.removeEventListener('loadeddata', handleLoaded);\r\n  }, [type]);\r\n\r\n  // Guard: no src â†’ nothing to render\r\n  if (!src) return null;\r\n\r\n  // ====== IMAGE ======\r\n  if (type === 'image') {\r\n    const ultraLowSrc = typeof src === 'string' ? src : getLowResImageUrl(src);\r\n    const mediumSrc   = typeof src === 'string' ? src : getMediumImageUrl(src);\r\n    const highResSrc  = typeof src === 'string' ? src : getHighQualityImageUrl(src);\r\n\r\n    const resolvedSrc = showHigh ? highResSrc : showMedium ? mediumSrc : ultraLowSrc;\r\n\r\n    // Avoid empty string\r\n    if (!resolvedSrc) return null;\r\n\r\n    return (\r\n      <div ref={containerRef} style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n        {!loaded && (\r\n          <div className=\"absolute inset-0 z-10\">\r\n            <LoadingScreen isFullScreen={false} />\r\n          </div>\r\n        )}\r\n        <img\r\n          ref={imgRef}\r\n          loading={priority ? 'eager' : undefined}\r\n          fetchPriority={showHigh || priority ? 'high' : showMedium ? 'auto' : 'low'}\r\n          id={id}\r\n          src={resolvedSrc || undefined}\r\n          alt={alt}\r\n          onLoad={onMediaLoaded}\r\n          onError={(e) => console.warn('Image failed', (e.target as HTMLImageElement).src)}\r\n          className={className}\r\n          draggable={false}\r\n          style={{\r\n            ...style,\r\n            objectFit: 'cover',\r\n            opacity: loaded ? 1 : 0,\r\n            transition: isSSR ? 'none' : 'filter 0.5s ease, opacity 0.3s ease',\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ====== VIDEO ======\r\n  const isVideoSetObj =\r\n    typeof src === 'object' && !('asset' in (src as any)) &&\r\n    (('webmUrl' in (src as any)) || ('mp4Url' in (src as any)));\r\n\r\n  const vs = (isVideoSetObj ? (src as VideoSetSrc) : undefined);\r\n  const legacyVideoUrl = typeof src === 'string' ? src : undefined;\r\n\r\n  const posterUrl =\r\n    vs?.poster\r\n      ? (typeof vs.poster === 'string'\r\n          ? vs.poster\r\n          : urlFor(vs.poster).width(1200).quality(80).auto('format').url())\r\n      : undefined;\r\n\r\n  const hasVideoSource = Boolean(vs?.webmUrl || vs?.mp4Url || legacyVideoUrl);\r\n  if (!hasVideoSource) return null;\r\n\r\n  return (\r\n    <div ref={containerRef} style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n      {!loaded && (\r\n        <div className=\"absolute inset-0 z-10\">\r\n          <LoadingScreen isFullScreen={false} />\r\n        </div>\r\n      )}\r\n      <video\r\n        id={id}\r\n        ref={videoRef}\r\n        onLoadedData={onMediaLoaded}\r\n        onError={(e) => console.warn('Video failed', e)}\r\n        className={className}\r\n        style={{\r\n          ...style,\r\n          objectFit: 'cover',\r\n          objectPosition,\r\n          opacity: loaded ? 1 : 0,\r\n          transition: isSSR ? 'none' : 'opacity 0.3s ease',\r\n          pointerEvents: 'all',\r\n        }}\r\n        loop={loop}\r\n        muted={muted}\r\n        playsInline={playsInline}\r\n        preload=\"none\"\r\n        controls={controls}\r\n        poster={posterRemoved ? undefined : posterUrl}\r\n      >\r\n        {vs?.webmUrl && <source src={vs.webmUrl || undefined} type=\"video/webm\" />}\r\n        {vs?.mp4Url  && <source src={vs.mp4Url  || undefined} type=\"video/mp4\"  />}\r\n        {!vs?.webmUrl && !vs?.mp4Url && legacyVideoUrl && (\r\n          <source src={legacyVideoUrl || undefined} />\r\n        )}\r\n      </video>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MediaLoader;\r\n","// video-observer.tsx\r\nimport { useEffect } from 'react';\r\n\r\nexport const useVideoVisibility = (\r\n  videoRef: React.RefObject<HTMLVideoElement> | null,\r\n  containerRef: React.RefObject<HTMLElement> | null,\r\n  threshold: number = 0.4\r\n) => {\r\n  useEffect(() => {\r\n    if (!videoRef?.current || !containerRef?.current) return;\r\n\r\n    const t = typeof threshold === 'number' && threshold >= 0 && threshold <= 1 ? threshold : 0.4;\r\n\r\n    let observer: IntersectionObserver | undefined;\r\n\r\n    const video = videoRef.current!;\r\n    const container = containerRef.current!;\r\n\r\n    // IMPORTANT: load even when using <source> children\r\n    // (video.src is empty in that case; currentSrc is set after load())\r\n    video.load();\r\n    video.muted = true;\r\n\r\n    observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          video.play().catch(() => setTimeout(() => video.play().catch(() => {}), 500));\r\n        } else {\r\n          video.pause();\r\n        }\r\n      },\r\n      { threshold: t }\r\n    );\r\n\r\n    observer.observe(container);\r\n\r\n    // kick once if already in view\r\n    const rect = container.getBoundingClientRect();\r\n    const ratio = Math.min(Math.max((window.innerHeight - rect.top) / window.innerHeight, 0), 1);\r\n    if (ratio >= t) video.play().catch(() => {});\r\n\r\n    return () => observer?.disconnect();\r\n  }, [videoRef, containerRef, threshold]);\r\n};\r\n","// utils/tooltip/global-tooltip.ts\r\nimport '../../styles/tooltip.css';\r\nimport { projectColors } from '../content-utility/color-map';\r\n\r\ntype TooltipInfo = { tags: string[]; backgroundColor: string };\r\nconst tooltipDataCache: Record<string, TooltipInfo> = {};\r\n\r\nconst LOCAL_FALLBACK_TAGS: Record<string, string[]> = {\r\n  'block-g': ['#q5.js Canvas', '#Gamification', '#Lottie Animation'],\r\n};\r\n\r\nconst TITLE_BY_KEY: Record<string, string> = {\r\n  'rotary-lamp': 'Rotary Lamp',\r\n  'ice-scoop': 'Ice Cream Scoop',\r\n  'data-viz': 'Data Visualization',\r\n  'block-g': 'Evade the Rock',\r\n  'dynamic': 'Dynamic App',\r\n};\r\n\r\nfunction bgForKey(key: string) {\r\n  const colorInfo = projectColors[TITLE_BY_KEY[key]];\r\n  const alpha = colorInfo?.tooltipAlpha ?? 0.6;\r\n  return colorInfo ? `rgba(${colorInfo.rgb}, ${alpha})` : 'rgba(85,95,90,0.6)';\r\n}\r\n\r\nfunction createTooltipDOM() {\r\n  const el = document.createElement('div');\r\n  el.id = 'custom-global-tooltip';\r\n  el.style.position = 'fixed';\r\n  el.style.pointerEvents = 'none';\r\n  el.style.zIndex = '9999';\r\n  el.style.opacity = '0';\r\n  el.style.visibility = 'hidden';\r\n  el.style.backdropFilter = 'blur(8px)';\r\n  el.style.color = '#fff';\r\n  el.style.transition = 'opacity 0.3s ease, visibility 0.3s ease';\r\n  el.className = 'custom-tooltip-blur';\r\n  const root = document.getElementById('efe-portfolio') || document.body;\r\n  root.appendChild(el);\r\n  return el as HTMLDivElement;\r\n}\r\n\r\nlet tooltipEl: HTMLDivElement | null = null;\r\nlet currentKey = '';\r\nlet hideTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\nexport const fetchTooltipDataForKey = async (key: string): Promise<TooltipInfo> => {\r\n  if (tooltipDataCache[key]) return tooltipDataCache[key];\r\n\r\n  const bg = bgForKey(key);\r\n\r\n  // local fallback\r\n  if (LOCAL_FALLBACK_TAGS[key]) {\r\n    const info = { tags: LOCAL_FALLBACK_TAGS[key], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n\r\n  // CMS fetch by slug\r\n  try {\r\n    const client = (await import('../sanity')).default;\r\n    const res = await client.fetch<{ tags?: string[] } | null>(\r\n      `*[_type==\"mediaBlock\" && slug.current == $key][0]{ tags }`,\r\n      { key }\r\n    );\r\n    const info: TooltipInfo = { tags: res?.tags ?? [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  } catch {\r\n    const info: TooltipInfo = { tags: [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n};\r\n\r\nconst showTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '1';\r\n  tooltipEl.style.visibility = 'visible';\r\n  hideTimeout = setTimeout(() => hideTooltip(), 99_000);\r\n};\r\n\r\nconst hideTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '0';\r\n  tooltipEl.style.visibility = 'hidden';\r\n  currentKey = '';\r\n};\r\n\r\nfunction positionTooltip(x: number, y: number) {\r\n  if (!tooltipEl) return;\r\n  const rect = tooltipEl.getBoundingClientRect();\r\n  const padding = 0;\r\n  const vw = window.innerWidth;\r\n  const vh = window.innerHeight;\r\n\r\n  const nearTop = y < rect.height + padding + 20;\r\n  const nearBottom = y + rect.height + padding > vh - 20;\r\n  const nearRight = x + rect.width + padding > vw - 20;\r\n  const nearLeft = x < rect.width + padding + 20;\r\n\r\n  let left: number, top: number;\r\n  if (nearBottom) { top = y - rect.height - padding - 8; left = x - rect.width * 0; }\r\n  else if (nearTop) { top = y + padding - 14; left = x - rect.width * 0; }\r\n  else if (nearRight) { top = y - rect.height / 2; left = x - rect.width - padding - 24; }\r\n  else if (nearLeft) { top = y - rect.height / 2; left = x + padding - 4; }\r\n  else { top = y - rect.height / 1.6; left = x + padding - 2; }\r\n\r\n  left = Math.max(padding, Math.min(left, vw - rect.width - padding));\r\n  top  = Math.max(padding, Math.min(top,  vh - rect.height - padding));\r\n\r\n  tooltipEl.style.left = `${left}px`;\r\n  tooltipEl.style.top  = `${top}px`;\r\n}\r\n\r\nexport function initGlobalTooltip(isRealMobile: boolean) {\r\n  if (tooltipEl) return () => {};\r\n  tooltipEl = createTooltipDOM();\r\n\r\n  let lastMouseX = -1;\r\n  let lastMouseY = -1;\r\n  let ticking = false;\r\n  let scrollCheckTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\n  const updateForElement = async (el: Element | null) => {\r\n    if (!(el instanceof HTMLElement)) { hideTooltip(); return; }\r\n    const tooltipClass = [...el.classList].find(c => c.startsWith('tooltip-'));\r\n    if (!tooltipClass) { hideTooltip(); return; }\r\n\r\n    const key = tooltipClass.replace('tooltip-', '');\r\n    if (key !== currentKey) {\r\n      currentKey = key;\r\n      const info = await fetchTooltipDataForKey(key);\r\n\r\n      if (!info.tags.length) { hideTooltip(); return; }\r\n      tooltipEl!.innerHTML = info.tags.map(t => `<p class=\"tooltip-tag\">${t}</p>`).join('');\r\n      tooltipEl!.style.backgroundColor = info.backgroundColor;\r\n      showTooltip();\r\n    } else if (tooltipEl!.style.opacity === '0' || tooltipEl!.style.visibility === 'hidden') {\r\n      showTooltip();\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (e: MouseEvent) => {\r\n    lastMouseX = e.clientX;\r\n    lastMouseY = e.clientY;\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n    updateForElement(e.target as Element);\r\n  };\r\n\r\n  const checkHoveredElementOnScroll = () => {\r\n    const el = document.elementFromPoint(lastMouseX, lastMouseY);\r\n    updateForElement(el);\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n  };\r\n\r\n  const onScroll = () => {\r\n    if (!ticking) {\r\n      window.requestAnimationFrame(() => { checkHoveredElementOnScroll(); ticking = false; });\r\n      ticking = true;\r\n    }\r\n    if (scrollCheckTimeout) clearTimeout(scrollCheckTimeout);\r\n    scrollCheckTimeout = setTimeout(() => {}, 120);\r\n  };\r\n\r\n  const onMouseOut = (e: MouseEvent) => {\r\n    if (!e.relatedTarget) hideTooltip();\r\n  };\r\n\r\n  // only attach scroll observer for non-mobile real viewports\r\n  if (!isRealMobile) window.addEventListener('scroll', onScroll, true);\r\n  document.addEventListener('mousemove', onMouseMove, { passive: true });\r\n  document.addEventListener('mouseout', onMouseOut, { passive: true });\r\n\r\n  return () => {\r\n    if (!tooltipEl) return;\r\n    if (!isRealMobile) window.removeEventListener('scroll', onScroll, true);\r\n    document.removeEventListener('mousemove', onMouseMove);\r\n    document.removeEventListener('mouseout', onMouseOut);\r\n    tooltipEl.remove();\r\n    tooltipEl = null;\r\n    if (hideTimeout) clearTimeout(hideTimeout);\r\n  };\r\n}\r\n","// utils/tooltip/tooltipInit.ts\r\nimport { useEffect } from 'react';\r\nimport { initGlobalTooltip } from './tooltip';\r\nimport { useRealMobileViewport } from '../content-utility/real-mobile';\r\n\r\nexport const useTooltipInit = () => {\r\n  const isRealMobile = useRealMobileViewport();\r\n\r\n  useEffect(() => {\r\n    const dispose = initGlobalTooltip(isRealMobile);\r\n    return () => dispose?.();\r\n  }, [isRealMobile]);\r\n};\r\n"],"names":["useEffect","useState","client","MediaLoader","useTooltipInit","useSsrData","getHighQualityImageUrl","jsx","_jsx","DataVisualizationBlock","ssrData","data","setData","preloaded","dataviz","fetch","slug","then","catch","err","console","warn","mediaOne","alt","image","video","isVideo","Boolean","webmUrl","mp4Url","highPoster","poster","undefined","className","style","position","width","height","overflow","children","type","src","id","objectPosition","projectColors","rgb","tooltipAlpha","defaultAlpha","darkThemeTop","useRealMobileViewport","isRealMobile","setIsRealMobile","checkMobile","touch","navigator","maxTouchPoints","coarse","window","matchMedia","matches","innerWidth","ua","userAgent","vendor","opera","isIOS","test","platform","isAndroid","realMobile","addEventListener","removeEventListener","totalImages","loadedLowRes","listeners","upgradeTimeout","setUpgradeTimeout","ms","setTimeout","forEach","fn","registerImage","notifyLowResLoaded","onAllLowResLoaded","callback","push","useRef","useVideoVisibility","LoadingScreen","getLowResImageUrl","getMediumImageUrl","urlFor","jsxs","_jsxs","useNearViewport","ref","rootMargin","threshold","once","near","setNear","current","io","IntersectionObserver","entries","some","e","isIntersecting","disconnect","observe","loop","muted","playsInline","preload","enableVisibilityControl","priority","controls","isSSR","loaded","setLoaded","showMedium","setShowMedium","showHigh","setShowHigh","posterRemoved","setPosterRemoved","videoRef","imgRef","containerRef","isNear","shouldStart","complete","readyState","t1","off","t2","clearTimeout","onMediaLoaded","event","CustomEvent","detail","dispatchEvent","v","loadedOnce","start","load","t","handleLoaded","removeAttribute","play","ultraLowSrc","mediumSrc","highResSrc","resolvedSrc","isFullScreen","loading","fetchPriority","onLoad","onError","target","draggable","objectFit","opacity","transition","isVideoSetObj","vs","legacyVideoUrl","posterUrl","quality","auto","url","hasVideoSource","onLoadedData","pointerEvents","observer","container","entry","pause","rect","getBoundingClientRect","ratio","Math","min","max","innerHeight","top","tooltipDataCache","LOCAL_FALLBACK_TAGS","TITLE_BY_KEY","bgForKey","key","colorInfo","alpha","createTooltipDOM","el","document","createElement","zIndex","visibility","backdropFilter","color","root","getElementById","body","appendChild","tooltipEl","currentKey","hideTimeout","fetchTooltipDataForKey","bg","info","tags","backgroundColor","default","res","showTooltip","hideTooltip","positionTooltip","x","y","padding","vw","vh","nearTop","nearBottom","nearRight","nearLeft","left","initGlobalTooltip","lastMouseX","lastMouseY","ticking","scrollCheckTimeout","updateForElement","HTMLElement","tooltipClass","classList","find","c","startsWith","replace","length","innerHTML","map","join","onMouseMove","clientX","clientY","requestAnimationFrame","checkHoveredElementOnScroll","elementFromPoint","onScroll","onMouseOut","relatedTarget","passive","remove","dispose"],"sourceRoot":""}